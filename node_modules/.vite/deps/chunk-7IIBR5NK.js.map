{
  "version": 3,
  "sources": ["../../../dev/gui/src/2D/valueAndUnit.ts", "../../../dev/gui/src/2D/measure.ts", "../../../dev/gui/src/2D/math2D.ts", "../../../dev/gui/src/2D/controls/control.ts"],
  "sourcesContent": ["import { Observable } from \"core/Misc/observable\";\r\nimport type { AdvancedDynamicTexture } from \"./advancedDynamicTexture\";\r\n\r\n/**\r\n * Class used to specific a value and its associated unit\r\n */\r\nexport class ValueAndUnit {\r\n    private _value = 1;\r\n    private _unit = ValueAndUnit.UNITMODE_PIXEL;\r\n    private _originalUnit: number;\r\n\r\n    /**\r\n     * Gets or sets a value indicating that this value will not scale accordingly with adaptive scaling property\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#adaptive-scaling\r\n     */\r\n    public ignoreAdaptiveScaling = false;\r\n\r\n    /**\r\n     * Observable event triggered each time the value or unit changes\r\n     */\r\n    public onChangedObservable = new Observable<void>();\r\n\r\n    /**\r\n     * Creates a new ValueAndUnit\r\n     * @param value defines the value to store\r\n     * @param unit defines the unit to store - defaults to ValueAndUnit.UNITMODE_PIXEL\r\n     * @param negativeValueAllowed defines a boolean indicating if the value can be negative\r\n     */\r\n    public constructor(\r\n        value: number,\r\n        /** defines the unit to store */\r\n        unit = ValueAndUnit.UNITMODE_PIXEL,\r\n        /** defines a boolean indicating if the value can be negative */\r\n        public negativeValueAllowed = true\r\n    ) {\r\n        this._value = value;\r\n        this._unit = unit;\r\n        this._originalUnit = unit;\r\n    }\r\n\r\n    /** Gets a boolean indicating if the value is a percentage */\r\n    public get isPercentage(): boolean {\r\n        return this._unit === ValueAndUnit.UNITMODE_PERCENTAGE;\r\n    }\r\n\r\n    /** Gets a boolean indicating if the value is store as pixel */\r\n    public get isPixel(): boolean {\r\n        return this._unit === ValueAndUnit.UNITMODE_PIXEL;\r\n    }\r\n\r\n    /**\r\n     * Gets value (without units)\r\n     * @deprecated use value property instead\r\n     */\r\n    public get internalValue(): number {\r\n        return this._value;\r\n    }\r\n\r\n    /** Gets value (without units) */\r\n    public get value(): number {\r\n        return this._value;\r\n    }\r\n\r\n    /** Sets value (without units) */\r\n    public set value(value: number) {\r\n        if (value !== this._value) {\r\n            this._value = value;\r\n            this.onChangedObservable.notifyObservers();\r\n        }\r\n    }\r\n\r\n    /** Gets units (without value) */\r\n    public get unit(): number {\r\n        return this._unit;\r\n    }\r\n\r\n    /** Sets units (without value) */\r\n    public set unit(value: number) {\r\n        if (value !== this._unit) {\r\n            this._unit = value;\r\n            this.onChangedObservable.notifyObservers();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets value as pixel\r\n     * @param host defines the root host\r\n     * @param refValue defines the reference value for percentages\r\n     * @returns the value as pixel\r\n     */\r\n    public getValueInPixel(host: AdvancedDynamicTexture, refValue: number): number {\r\n        if (this.isPixel) {\r\n            return this.getValue(host);\r\n        }\r\n\r\n        return this.getValue(host) * refValue;\r\n    }\r\n\r\n    /**\r\n     * Update the current value and unit.\r\n     * @param value defines the value to store\r\n     * @param unit defines the unit to store\r\n     * @returns the current ValueAndUnit\r\n     */\r\n    public updateInPlace(value: number, unit = ValueAndUnit.UNITMODE_PIXEL): ValueAndUnit {\r\n        if (this.value !== value || this.unit !== unit) {\r\n            // set member variables to notify only once\r\n            this._value = value;\r\n            this._unit = unit;\r\n            this.onChangedObservable.notifyObservers();\r\n        }\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets the value accordingly to its unit\r\n     * @param host  defines the root host\r\n     * @returns the value\r\n     */\r\n    public getValue(host: AdvancedDynamicTexture): number {\r\n        if (host && !this.ignoreAdaptiveScaling && this.unit !== ValueAndUnit.UNITMODE_PERCENTAGE) {\r\n            let width: number = 0;\r\n            let height: number = 0;\r\n\r\n            if (host.idealWidth) {\r\n                width = Math.ceil((this._value * host.getSize().width) / host.idealWidth);\r\n            }\r\n\r\n            if (host.idealHeight) {\r\n                height = Math.ceil((this._value * host.getSize().height) / host.idealHeight);\r\n            }\r\n\r\n            if (host.useSmallestIdeal && host.idealWidth && host.idealHeight) {\r\n                return window.innerWidth < window.innerHeight ? width : height;\r\n            }\r\n\r\n            if (host.idealWidth) {\r\n                // horizontal\r\n                return width;\r\n            }\r\n\r\n            if (host.idealHeight) {\r\n                // vertical\r\n                return height;\r\n            }\r\n        }\r\n        return this._value;\r\n    }\r\n\r\n    /**\r\n     * Gets a string representation of the value\r\n     * @param host defines the root host\r\n     * @param decimals defines an optional number of decimals to display\r\n     * @returns a string\r\n     */\r\n    public toString(host: AdvancedDynamicTexture, decimals?: number): string {\r\n        switch (this._unit) {\r\n            case ValueAndUnit.UNITMODE_PERCENTAGE: {\r\n                const percentage = this.getValue(host) * 100;\r\n                return (decimals ? percentage.toFixed(decimals) : percentage) + \"%\";\r\n            }\r\n            case ValueAndUnit.UNITMODE_PIXEL: {\r\n                const pixels = this.getValue(host);\r\n                return (decimals ? pixels.toFixed(decimals) : pixels) + \"px\";\r\n            }\r\n        }\r\n\r\n        return this._unit.toString();\r\n    }\r\n\r\n    /**\r\n     * Store a value parsed from a string\r\n     * @param source defines the source string\r\n     * @returns true if the value was successfully parsed and updated\r\n     */\r\n    public fromString(source: string | number): boolean {\r\n        const match = ValueAndUnit._Regex.exec(source.toString());\r\n\r\n        if (!match || match.length === 0) {\r\n            return false;\r\n        }\r\n\r\n        let sourceValue = parseFloat(match[1]);\r\n        let sourceUnit = this._originalUnit;\r\n\r\n        if (!this.negativeValueAllowed) {\r\n            if (sourceValue < 0) {\r\n                sourceValue = 0;\r\n            }\r\n        }\r\n\r\n        if (match.length === 4) {\r\n            switch (match[3]) {\r\n                case \"px\":\r\n                    sourceUnit = ValueAndUnit.UNITMODE_PIXEL;\r\n                    break;\r\n                case \"%\":\r\n                    sourceUnit = ValueAndUnit.UNITMODE_PERCENTAGE;\r\n                    sourceValue /= 100.0;\r\n                    break;\r\n            }\r\n        }\r\n\r\n        if (sourceValue === this._value && sourceUnit === this._unit) {\r\n            return false;\r\n        }\r\n\r\n        this._value = sourceValue;\r\n        this._unit = sourceUnit;\r\n        this.onChangedObservable.notifyObservers();\r\n\r\n        return true;\r\n    }\r\n\r\n    // Static\r\n    private static _Regex = /(^-?\\d*(\\.\\d+)?)(%|px)?/;\r\n    private static _UNITMODE_PERCENTAGE = 0;\r\n    private static _UNITMODE_PIXEL = 1;\r\n\r\n    /** UNITMODE_PERCENTAGE */\r\n    public static get UNITMODE_PERCENTAGE(): number {\r\n        return ValueAndUnit._UNITMODE_PERCENTAGE;\r\n    }\r\n\r\n    /** UNITMODE_PIXEL */\r\n    public static get UNITMODE_PIXEL(): number {\r\n        return ValueAndUnit._UNITMODE_PIXEL;\r\n    }\r\n}\r\n", "import type { Matrix2D } from \"./math2D\";\r\nimport { Vector2 } from \"core/Maths/math.vector\";\r\n\r\nconst TmpRect = [new Vector2(0, 0), new Vector2(0, 0), new Vector2(0, 0), new Vector2(0, 0)];\r\n\r\nconst TmpRect2 = [new Vector2(0, 0), new Vector2(0, 0), new Vector2(0, 0), new Vector2(0, 0)];\r\n\r\nconst TmpV1 = new Vector2(0, 0);\r\nconst TmpV2 = new Vector2(0, 0);\r\n\r\n/**\r\n * Class used to store 2D control sizes\r\n */\r\nexport class Measure {\r\n    /**\r\n     * Creates a new measure\r\n     * @param left defines left coordinate\r\n     * @param top defines top coordinate\r\n     * @param width defines width dimension\r\n     * @param height defines height dimension\r\n     */\r\n    public constructor(\r\n        /** defines left coordinate */\r\n        public left: number,\r\n        /** defines top coordinate  */\r\n        public top: number,\r\n        /** defines width dimension  */\r\n        public width: number,\r\n        /** defines height dimension */\r\n        public height: number\r\n    ) {}\r\n\r\n    /**\r\n     * Copy from another measure\r\n     * @param other defines the other measure to copy from\r\n     */\r\n    public copyFrom(other: Measure): void {\r\n        this.left = other.left;\r\n        this.top = other.top;\r\n        this.width = other.width;\r\n        this.height = other.height;\r\n    }\r\n\r\n    /**\r\n     * Copy from a group of 4 floats\r\n     * @param left defines left coordinate\r\n     * @param top defines top coordinate\r\n     * @param width defines width dimension\r\n     * @param height defines height dimension\r\n     */\r\n    public copyFromFloats(left: number, top: number, width: number, height: number): void {\r\n        this.left = left;\r\n        this.top = top;\r\n        this.width = width;\r\n        this.height = height;\r\n    }\r\n\r\n    /**\r\n     * Computes the axis aligned bounding box measure for two given measures\r\n     * @param a Input measure\r\n     * @param b Input measure\r\n     * @param result the resulting bounding measure\r\n     */\r\n    public static CombineToRef(a: Measure, b: Measure, result: Measure) {\r\n        const left = Math.min(a.left, b.left);\r\n        const top = Math.min(a.top, b.top);\r\n        const right = Math.max(a.left + a.width, b.left + b.width);\r\n        const bottom = Math.max(a.top + a.height, b.top + b.height);\r\n        result.left = left;\r\n        result.top = top;\r\n        result.width = right - left;\r\n        result.height = bottom - top;\r\n    }\r\n\r\n    /**\r\n     * Computes the axis aligned bounding box of the measure after it is modified by a given transform\r\n     * @param transform the matrix to transform the measure before computing the AABB\r\n     * @param addX number to add to left\r\n     * @param addY number to add to top\r\n     * @param addWidth number to add to width\r\n     * @param addHeight number to add to height\r\n     * @param result the resulting AABB\r\n     */\r\n    public addAndTransformToRef(transform: Matrix2D, addX: number, addY: number, addWidth: number, addHeight: number, result: Measure) {\r\n        const left = this.left + addX;\r\n        const top = this.top + addY;\r\n        const width = this.width + addWidth;\r\n        const height = this.height + addHeight;\r\n\r\n        TmpRect[0].copyFromFloats(left, top);\r\n        TmpRect[1].copyFromFloats(left + width, top);\r\n        TmpRect[2].copyFromFloats(left + width, top + height);\r\n        TmpRect[3].copyFromFloats(left, top + height);\r\n\r\n        TmpV1.copyFromFloats(Number.MAX_VALUE, Number.MAX_VALUE);\r\n        TmpV2.copyFromFloats(0, 0);\r\n        for (let i = 0; i < 4; i++) {\r\n            transform.transformCoordinates(TmpRect[i].x, TmpRect[i].y, TmpRect2[i]);\r\n            TmpV1.x = Math.floor(Math.min(TmpV1.x, TmpRect2[i].x));\r\n            TmpV1.y = Math.floor(Math.min(TmpV1.y, TmpRect2[i].y));\r\n            TmpV2.x = Math.ceil(Math.max(TmpV2.x, TmpRect2[i].x));\r\n            TmpV2.y = Math.ceil(Math.max(TmpV2.y, TmpRect2[i].y));\r\n        }\r\n        result.left = TmpV1.x;\r\n        result.top = TmpV1.y;\r\n        result.width = TmpV2.x - TmpV1.x;\r\n        result.height = TmpV2.y - TmpV1.y;\r\n    }\r\n\r\n    /**\r\n     * Computes the axis aligned bounding box of the measure after it is modified by a given transform\r\n     * @param transform the matrix to transform the measure before computing the AABB\r\n     * @param result the resulting AABB\r\n     */\r\n    public transformToRef(transform: Matrix2D, result: Measure) {\r\n        this.addAndTransformToRef(transform, 0, 0, 0, 0, result);\r\n    }\r\n    /**\r\n     * Check equality between this measure and another one\r\n     * @param other defines the other measures\r\n     * @returns true if both measures are equals\r\n     */\r\n    public isEqualsTo(other: Measure): boolean {\r\n        if (this.left !== other.left) {\r\n            return false;\r\n        }\r\n\r\n        if (this.top !== other.top) {\r\n            return false;\r\n        }\r\n\r\n        if (this.width !== other.width) {\r\n            return false;\r\n        }\r\n\r\n        if (this.height !== other.height) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Creates an empty measure\r\n     * @returns a new measure\r\n     */\r\n    public static Empty(): Measure {\r\n        return new Measure(0, 0, 0, 0);\r\n    }\r\n}\r\n", "import type { Nullable } from \"core/types\";\r\nimport { Vector2 } from \"core/Maths/math.vector\";\r\nimport { Epsilon } from \"core/Maths/math.constants\";\r\n\r\n/**\r\n * Class used to transport Vector2 information for pointer events\r\n */\r\nexport class Vector2WithInfo extends Vector2 {\r\n    /**\r\n     * Creates a new Vector2WithInfo\r\n     * @param source defines the vector2 data to transport\r\n     * @param buttonIndex defines the current mouse button index\r\n     */\r\n    public constructor(\r\n        source: Vector2,\r\n        /** defines the current mouse button index */\r\n        public buttonIndex: number = 0\r\n    ) {\r\n        super(source.x, source.y);\r\n    }\r\n}\r\n\r\n/** Class used to provide 2D matrix features */\r\nexport class Matrix2D {\r\n    /** Gets the internal array of 6 floats used to store matrix data */\r\n    public m = new Float32Array(6);\r\n\r\n    /**\r\n     * Creates a new matrix\r\n     * @param m00 defines value for (0, 0)\r\n     * @param m01 defines value for (0, 1)\r\n     * @param m10 defines value for (1, 0)\r\n     * @param m11 defines value for (1, 1)\r\n     * @param m20 defines value for (2, 0)\r\n     * @param m21 defines value for (2, 1)\r\n     */\r\n    constructor(m00: number, m01: number, m10: number, m11: number, m20: number, m21: number) {\r\n        this.fromValues(m00, m01, m10, m11, m20, m21);\r\n    }\r\n\r\n    /**\r\n     * Fills the matrix from direct values\r\n     * @param m00 defines value for (0, 0)\r\n     * @param m01 defines value for (0, 1)\r\n     * @param m10 defines value for (1, 0)\r\n     * @param m11 defines value for (1, 1)\r\n     * @param m20 defines value for (2, 0)\r\n     * @param m21 defines value for (2, 1)\r\n     * @returns the current modified matrix\r\n     */\r\n    public fromValues(m00: number, m01: number, m10: number, m11: number, m20: number, m21: number): Matrix2D {\r\n        this.m[0] = m00;\r\n        this.m[1] = m01;\r\n        this.m[2] = m10;\r\n        this.m[3] = m11;\r\n        this.m[4] = m20;\r\n        this.m[5] = m21;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets matrix determinant\r\n     * @returns the determinant\r\n     */\r\n    public determinant(): number {\r\n        return this.m[0] * this.m[3] - this.m[1] * this.m[2];\r\n    }\r\n\r\n    /**\r\n     * Inverses the matrix and stores it in a target matrix\r\n     * @param result defines the target matrix\r\n     * @returns the current matrix\r\n     */\r\n    public invertToRef(result: Matrix2D): Matrix2D {\r\n        const l0 = this.m[0];\r\n        const l1 = this.m[1];\r\n        const l2 = this.m[2];\r\n        const l3 = this.m[3];\r\n        const l4 = this.m[4];\r\n        const l5 = this.m[5];\r\n\r\n        const det = this.determinant();\r\n        if (det < Epsilon * Epsilon) {\r\n            result.m[0] = 0;\r\n            result.m[1] = 0;\r\n            result.m[2] = 0;\r\n            result.m[3] = 0;\r\n            result.m[4] = 0;\r\n            result.m[5] = 0;\r\n            return this;\r\n        }\r\n\r\n        const detDiv = 1 / det;\r\n\r\n        const det4 = l2 * l5 - l3 * l4;\r\n        const det5 = l1 * l4 - l0 * l5;\r\n\r\n        result.m[0] = l3 * detDiv;\r\n        result.m[1] = -l1 * detDiv;\r\n        result.m[2] = -l2 * detDiv;\r\n        result.m[3] = l0 * detDiv;\r\n        result.m[4] = det4 * detDiv;\r\n        result.m[5] = det5 * detDiv;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Multiplies the current matrix with another one\r\n     * @param other defines the second operand\r\n     * @param result defines the target matrix\r\n     * @returns the current matrix\r\n     */\r\n    public multiplyToRef(other: Matrix2D, result: Matrix2D): Matrix2D {\r\n        const l0 = this.m[0];\r\n        const l1 = this.m[1];\r\n        const l2 = this.m[2];\r\n        const l3 = this.m[3];\r\n        const l4 = this.m[4];\r\n        const l5 = this.m[5];\r\n\r\n        const r0 = other.m[0];\r\n        const r1 = other.m[1];\r\n        const r2 = other.m[2];\r\n        const r3 = other.m[3];\r\n        const r4 = other.m[4];\r\n        const r5 = other.m[5];\r\n\r\n        result.m[0] = l0 * r0 + l1 * r2;\r\n        result.m[1] = l0 * r1 + l1 * r3;\r\n        result.m[2] = l2 * r0 + l3 * r2;\r\n        result.m[3] = l2 * r1 + l3 * r3;\r\n        result.m[4] = l4 * r0 + l5 * r2 + r4;\r\n        result.m[5] = l4 * r1 + l5 * r3 + r5;\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Applies the current matrix to a set of 2 floats and stores the result in a vector2\r\n     * @param x defines the x coordinate to transform\r\n     * @param y defines the x coordinate to transform\r\n     * @param result defines the target vector2\r\n     * @returns the current matrix\r\n     */\r\n    public transformCoordinates(x: number, y: number, result: Vector2): Matrix2D {\r\n        result.x = x * this.m[0] + y * this.m[2] + this.m[4];\r\n        result.y = x * this.m[1] + y * this.m[3] + this.m[5];\r\n\r\n        return this;\r\n    }\r\n\r\n    // Statics\r\n    /**\r\n     * Creates an identity matrix\r\n     * @returns a new matrix\r\n     */\r\n    public static Identity(): Matrix2D {\r\n        return new Matrix2D(1, 0, 0, 1, 0, 0);\r\n    }\r\n\r\n    /**\r\n     * Creates an identity matrix and stores it in a target matrix\r\n     * @param result defines the target matrix\r\n     */\r\n    public static IdentityToRef(result: Matrix2D): void {\r\n        result.m[0] = 1;\r\n        result.m[1] = 0;\r\n        result.m[2] = 0;\r\n        result.m[3] = 1;\r\n        result.m[4] = 0;\r\n        result.m[5] = 0;\r\n    }\r\n\r\n    /**\r\n     * Creates a translation matrix and stores it in a target matrix\r\n     * @param x defines the x coordinate of the translation\r\n     * @param y defines the y coordinate of the translation\r\n     * @param result defines the target matrix\r\n     */\r\n    public static TranslationToRef(x: number, y: number, result: Matrix2D): void {\r\n        result.fromValues(1, 0, 0, 1, x, y);\r\n    }\r\n\r\n    /**\r\n     * Creates a scaling matrix and stores it in a target matrix\r\n     * @param x defines the x coordinate of the scaling\r\n     * @param y defines the y coordinate of the scaling\r\n     * @param result defines the target matrix\r\n     */\r\n    public static ScalingToRef(x: number, y: number, result: Matrix2D): void {\r\n        result.fromValues(x, 0, 0, y, 0, 0);\r\n    }\r\n\r\n    /**\r\n     * Creates a rotation matrix and stores it in a target matrix\r\n     * @param angle defines the rotation angle\r\n     * @param result defines the target matrix\r\n     */\r\n    public static RotationToRef(angle: number, result: Matrix2D): void {\r\n        const s = Math.sin(angle);\r\n        const c = Math.cos(angle);\r\n\r\n        result.fromValues(c, s, -s, c, 0, 0);\r\n    }\r\n\r\n    private static _TempPreTranslationMatrix = Matrix2D.Identity();\r\n    private static _TempPostTranslationMatrix = Matrix2D.Identity();\r\n    private static _TempRotationMatrix = Matrix2D.Identity();\r\n    private static _TempScalingMatrix = Matrix2D.Identity();\r\n    private static _TempCompose0 = Matrix2D.Identity();\r\n    private static _TempCompose1 = Matrix2D.Identity();\r\n    private static _TempCompose2 = Matrix2D.Identity();\r\n\r\n    /**\r\n     * Composes a matrix from translation, rotation, scaling and parent matrix and stores it in a target matrix\r\n     * @param tx defines the x coordinate of the translation\r\n     * @param ty defines the y coordinate of the translation\r\n     * @param angle defines the rotation angle\r\n     * @param scaleX defines the x coordinate of the scaling\r\n     * @param scaleY defines the y coordinate of the scaling\r\n     * @param parentMatrix defines the parent matrix to multiply by (can be null)\r\n     * @param result defines the target matrix\r\n     */\r\n    public static ComposeToRef(tx: number, ty: number, angle: number, scaleX: number, scaleY: number, parentMatrix: Nullable<Matrix2D>, result: Matrix2D): void {\r\n        Matrix2D.TranslationToRef(tx, ty, Matrix2D._TempPreTranslationMatrix);\r\n\r\n        Matrix2D.ScalingToRef(scaleX, scaleY, Matrix2D._TempScalingMatrix);\r\n\r\n        Matrix2D.RotationToRef(angle, Matrix2D._TempRotationMatrix);\r\n\r\n        Matrix2D.TranslationToRef(-tx, -ty, Matrix2D._TempPostTranslationMatrix);\r\n\r\n        Matrix2D._TempPreTranslationMatrix.multiplyToRef(Matrix2D._TempScalingMatrix, Matrix2D._TempCompose0);\r\n        Matrix2D._TempCompose0.multiplyToRef(Matrix2D._TempRotationMatrix, Matrix2D._TempCompose1);\r\n        if (parentMatrix) {\r\n            Matrix2D._TempCompose1.multiplyToRef(Matrix2D._TempPostTranslationMatrix, Matrix2D._TempCompose2);\r\n            Matrix2D._TempCompose2.multiplyToRef(parentMatrix, result);\r\n        } else {\r\n            Matrix2D._TempCompose1.multiplyToRef(Matrix2D._TempPostTranslationMatrix, result);\r\n        }\r\n    }\r\n}\r\n\r\n/**\r\n * Useful math functions\r\n */\r\nexport class MathTools {\r\n    /**\r\n     * Default rounding precision for GUI elements. It should be\r\n     * set to a power of ten, where the exponent means the number\r\n     * of decimal digits to round to, i.e, 100 means 2 decimal digits,\r\n     * 1000 means 3 decimal digits, etc. Default is 100 (2 decimal digits).\r\n     */\r\n    public static DefaultRoundingPrecision = 100;\r\n\r\n    /**\r\n     * Rounds a number to the nearest multiple of a given precision\r\n     * @param value the value to be rounded\r\n     * @param precision the multiple to which the value will be rounded. Default is 100 (2 decimal digits)\r\n     * @returns\r\n     */\r\n    public static Round(value: number, precision: number = MathTools.DefaultRoundingPrecision): number {\r\n        return Math.round(value * precision) / precision;\r\n    }\r\n}\r\n", "/* eslint-disable @typescript-eslint/naming-convention */\r\n/* eslint-disable @typescript-eslint/no-unused-vars */\r\nimport type { Nullable } from \"core/types\";\r\nimport type { Observer } from \"core/Misc/observable\";\r\nimport { Observable } from \"core/Misc/observable\";\r\nimport { Vector2, Vector3, Matrix } from \"core/Maths/math.vector\";\r\nimport type { PointerInfoBase } from \"core/Events/pointerEvents\";\r\nimport { PointerEventTypes } from \"core/Events/pointerEvents\";\r\nimport { Logger } from \"core/Misc/logger\";\r\nimport { Tools } from \"core/Misc/tools\";\r\nimport type { TransformNode } from \"core/Meshes/transformNode\";\r\nimport type { Scene } from \"core/scene\";\r\n\r\nimport type { Container } from \"./container\";\r\nimport type { AdvancedDynamicTexture } from \"../advancedDynamicTexture\";\r\nimport { ValueAndUnit } from \"../valueAndUnit\";\r\nimport { Measure } from \"../measure\";\r\nimport type { Style } from \"../style\";\r\nimport { Matrix2D, Vector2WithInfo } from \"../math2D\";\r\nimport { GetClass, RegisterClass } from \"core/Misc/typeStore\";\r\nimport { serialize } from \"core/Misc/decorators\";\r\nimport { SerializationHelper } from \"core/Misc/decorators.serialization\";\r\nimport type { ICanvasGradient, ICanvasRenderingContext } from \"core/Engines/ICanvas\";\r\nimport { EngineStore } from \"core/Engines/engineStore\";\r\nimport type { IAccessibilityTag } from \"core/IAccessibilityTag\";\r\nimport type { IKeyboardEvent, IPointerEvent } from \"core/Events/deviceInputEvents\";\r\nimport type { IAnimatable } from \"core/Animations/animatable.interface\";\r\nimport type { Animation } from \"core/Animations/animation\";\r\nimport type { BaseGradient } from \"./gradient/BaseGradient\";\r\nimport type { AbstractEngine } from \"core/Engines/abstractEngine\";\r\nimport type { IFocusableControl } from \"./focusableControl\";\r\n\r\n/**\r\n * Root class used for all 2D controls\r\n * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#controls\r\n */\r\nexport class Control implements IAnimatable, IFocusableControl {\r\n    /**\r\n     * Gets or sets a boolean indicating if alpha must be an inherited value (false by default)\r\n     */\r\n    public static AllowAlphaInheritance = false;\r\n\r\n    private _alpha = 1;\r\n    private _alphaSet = false;\r\n    private _zIndex = 0;\r\n    /** @internal */\r\n    public _host: AdvancedDynamicTexture;\r\n    /** Gets or sets the control parent */\r\n    public parent: Nullable<Container>;\r\n    /** @internal */\r\n    public _currentMeasure = Measure.Empty();\r\n    /** @internal */\r\n    public _tempPaddingMeasure = Measure.Empty();\r\n    private _fontFamily = \"\";\r\n    private _fontStyle = \"\";\r\n    private _fontWeight = \"\";\r\n    private _fontSize = new ValueAndUnit(18, ValueAndUnit.UNITMODE_PIXEL, false);\r\n    private _font: string;\r\n    /** @internal */\r\n    public _width = new ValueAndUnit(1, ValueAndUnit.UNITMODE_PERCENTAGE, false);\r\n    /** @internal */\r\n    public _height = new ValueAndUnit(1, ValueAndUnit.UNITMODE_PERCENTAGE, false);\r\n    /** @internal */\r\n    protected _fontOffset: { ascent: number; height: number; descent: number };\r\n    private _color = \"\";\r\n    private _style: Nullable<Style> = null;\r\n    private _styleObserver: Nullable<Observer<Style>>;\r\n    /** @internal */\r\n    protected _horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_CENTER;\r\n    /** @internal */\r\n    protected _verticalAlignment = Control.VERTICAL_ALIGNMENT_CENTER;\r\n    /** @internal */\r\n    protected _isDirty = true;\r\n    /** @internal */\r\n    protected _wasDirty = false;\r\n    /** @internal */\r\n    public _tempParentMeasure = Measure.Empty();\r\n    /** @internal */\r\n    public _prevCurrentMeasureTransformedIntoGlobalSpace = Measure.Empty();\r\n    /** @internal */\r\n    public _cachedParentMeasure = Measure.Empty();\r\n    private _descendantsOnlyPadding = false;\r\n    private _paddingLeft = new ValueAndUnit(0);\r\n    private _paddingRight = new ValueAndUnit(0);\r\n    private _paddingTop = new ValueAndUnit(0);\r\n    private _paddingBottom = new ValueAndUnit(0);\r\n    /** @internal */\r\n    public _left = new ValueAndUnit(0);\r\n    /** @internal */\r\n    public _top = new ValueAndUnit(0);\r\n    private _scaleX = 1.0;\r\n    private _scaleY = 1.0;\r\n    private _rotation = 0;\r\n    private _transformCenterX = 0.5;\r\n    private _transformCenterY = 0.5;\r\n    /** @internal */\r\n    public _transformMatrix = Matrix2D.Identity();\r\n    /** @internal */\r\n    protected _invertTransformMatrix = Matrix2D.Identity();\r\n    /** @internal */\r\n    protected _transformedPosition = Vector2.Zero();\r\n    private _isMatrixDirty = true;\r\n    private _cachedOffsetX: number;\r\n    private _cachedOffsetY: number;\r\n    private _isVisible = true;\r\n    private _isHighlighted = false;\r\n    private _highlightColor = \"#4affff\";\r\n    protected _highlightLineWidth = 2;\r\n    /** @internal */\r\n    public _linkedMesh: Nullable<TransformNode>;\r\n    private _fontSet = false;\r\n    private _dummyVector2 = Vector2.Zero();\r\n    private _downCount = 0;\r\n    private _enterCount = -1;\r\n    private _doNotRender = false;\r\n    private _downPointerIds: { [id: number]: boolean } = {};\r\n    private _evaluatedMeasure = new Measure(0, 0, 0, 0);\r\n    private _evaluatedParentMeasure = new Measure(0, 0, 0, 0);\r\n    protected _isEnabled = true;\r\n    protected _disabledColor = \"#9a9a9a\";\r\n    protected _disabledColorItem = \"#6a6a6a\";\r\n    protected _isReadOnly = false;\r\n    private _gradient: Nullable<BaseGradient> = null;\r\n    /** @internal */\r\n    protected _rebuildLayout = false;\r\n\r\n    /** @internal */\r\n    protected _urlRewriter?: (url: string) => string;\r\n\r\n    /**\r\n     * Observable that fires when the control's enabled state changes\r\n     */\r\n    public onEnabledStateChangedObservable = new Observable<boolean>();\r\n\r\n    /** @internal */\r\n    public _customData: any = {};\r\n\r\n    /** @internal */\r\n    public _isClipped = false;\r\n\r\n    /** @internal */\r\n    public _automaticSize = false;\r\n\r\n    /** @internal */\r\n    public _tag: any;\r\n\r\n    /**\r\n     * Gets or sets the unique id of the node. Please note that this number will be updated when the control is added to a container\r\n     */\r\n    public uniqueId: number;\r\n\r\n    /**\r\n     * Gets or sets a boolean indicating if the control is readonly (default: false).\r\n     * A readonly control will still raise pointer events but will not react to them\r\n     */\r\n    public get isReadOnly() {\r\n        return this._isReadOnly;\r\n    }\r\n\r\n    public set isReadOnly(value: boolean) {\r\n        this._isReadOnly = value;\r\n    }\r\n\r\n    /**\r\n     * Gets the transformed measure, that is the bounding box of the control after applying all transformations\r\n     */\r\n    public get transformedMeasure(): Measure {\r\n        return this._evaluatedMeasure;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets an object used to store user defined information for the node\r\n     */\r\n    @serialize()\r\n    public metadata: any = null;\r\n\r\n    /** Gets or sets a boolean indicating if the control can be hit with pointer events */\r\n    @serialize()\r\n    public isHitTestVisible = true;\r\n    /** Gets or sets a boolean indicating if the control can block pointer events. False by default except on the following controls:\r\n     * * Button controls (Button, RadioButton, ToggleButton)\r\n     * * Checkbox\r\n     * * ColorPicker\r\n     * * InputText\r\n     * * Slider\r\n     */\r\n    @serialize()\r\n    public isPointerBlocker = false;\r\n    /** Gets or sets a boolean indicating if the control can be focusable */\r\n    @serialize()\r\n    public isFocusInvisible = false;\r\n\r\n    protected _clipChildren = true;\r\n    /**\r\n     * Sets/Gets a boolean indicating if the children are clipped to the current control bounds.\r\n     * Please note that not clipping children may generate issues with adt.useInvalidateRectOptimization so it is recommended to turn this optimization off if you want to use unclipped children\r\n     */\r\n    public set clipChildren(value: boolean) {\r\n        this._clipChildren = value;\r\n    }\r\n\r\n    @serialize()\r\n    public get clipChildren() {\r\n        return this._clipChildren;\r\n    }\r\n\r\n    protected _clipContent = true;\r\n    /**\r\n     * Sets/Gets a boolean indicating that control content must be clipped\r\n     * Please note that not clipping content may generate issues with adt.useInvalidateRectOptimization so it is recommended to turn this optimization off if you want to use unclipped children\r\n     */\r\n    public set clipContent(value: boolean) {\r\n        this._clipContent = value;\r\n    }\r\n\r\n    @serialize()\r\n    public get clipContent() {\r\n        return this._clipContent;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a boolean indicating that the current control should cache its rendering (useful when the control does not change often)\r\n     */\r\n    @serialize()\r\n    public useBitmapCache = false;\r\n\r\n    private _cacheData: Nullable<ImageData>;\r\n\r\n    private _shadowOffsetX = 0;\r\n    /** Gets or sets a value indicating the offset in pixels to apply on X axis to render the shadow */\r\n    @serialize()\r\n    public get shadowOffsetX() {\r\n        return this._shadowOffsetX;\r\n    }\r\n\r\n    public set shadowOffsetX(value: number) {\r\n        if (this._shadowOffsetX === value) {\r\n            return;\r\n        }\r\n\r\n        this._shadowOffsetX = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    private _shadowOffsetY = 0;\r\n    /** Gets or sets a value indicating the offset in pixels to apply on Y axis to render the shadow */\r\n    @serialize()\r\n    public get shadowOffsetY() {\r\n        return this._shadowOffsetY;\r\n    }\r\n\r\n    public set shadowOffsetY(value: number) {\r\n        if (this._shadowOffsetY === value) {\r\n            return;\r\n        }\r\n\r\n        this._shadowOffsetY = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    private _shadowBlur = 0;\r\n    private _previousShadowBlur = 0;\r\n    /** Gets or sets a value indicating the amount of blur to use to render the shadow */\r\n    @serialize()\r\n    public get shadowBlur() {\r\n        return this._shadowBlur;\r\n    }\r\n\r\n    public set shadowBlur(value: number) {\r\n        if (this._shadowBlur === value) {\r\n            return;\r\n        }\r\n\r\n        this._previousShadowBlur = this._shadowBlur;\r\n\r\n        this._shadowBlur = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    private _shadowColor = \"black\";\r\n    /** Gets or sets a value indicating the color of the shadow (black by default ie. \"#000\") */\r\n    @serialize()\r\n    public get shadowColor() {\r\n        return this._shadowColor;\r\n    }\r\n\r\n    public set shadowColor(value: string) {\r\n        if (this._shadowColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._shadowColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the cursor to use when the control is hovered */\r\n    @serialize()\r\n    public hoverCursor = \"\";\r\n\r\n    /** @internal */\r\n    protected _linkOffsetX = new ValueAndUnit(0);\r\n    /** @internal */\r\n    protected _linkOffsetY = new ValueAndUnit(0);\r\n\r\n    // Properties\r\n\r\n    /** Gets the control type name */\r\n    public get typeName(): string {\r\n        return this._getTypeName();\r\n    }\r\n\r\n    /**\r\n     * Get the current class name of the control.\r\n     * @returns current class name\r\n     */\r\n    public getClassName(): string {\r\n        return this._getTypeName();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the accessibility tag to describe the control for accessibility purpose.\r\n     * By default, GUI controls already indicate accessibility info, but one can override the info using this tag.\r\n     */\r\n    public set accessibilityTag(value: Nullable<IAccessibilityTag>) {\r\n        this._accessibilityTag = value;\r\n        this.onAccessibilityTagChangedObservable.notifyObservers(value);\r\n    }\r\n\r\n    public get accessibilityTag() {\r\n        return this._accessibilityTag;\r\n    }\r\n\r\n    protected _accessibilityTag: Nullable<IAccessibilityTag> = null;\r\n\r\n    /**\r\n     * Observable that fires whenever the accessibility event of the control has changed\r\n     */\r\n    public onAccessibilityTagChangedObservable = new Observable<Nullable<IAccessibilityTag>>();\r\n\r\n    /**\r\n     * An event triggered when pointer wheel is scrolled\r\n     */\r\n    public onWheelObservable = new Observable<Vector2>();\r\n    /**\r\n     * An event triggered when the pointer moves over the control.\r\n     */\r\n    public onPointerMoveObservable = new Observable<Vector2>();\r\n\r\n    /**\r\n     * An event triggered when the pointer moves out of the control.\r\n     */\r\n    public onPointerOutObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered when the pointer taps the control\r\n     */\r\n    public onPointerDownObservable = new Observable<Vector2WithInfo>();\r\n\r\n    /**\r\n     * An event triggered when pointer up\r\n     */\r\n    public onPointerUpObservable = new Observable<Vector2WithInfo>();\r\n\r\n    /**\r\n     * An event triggered when a control is clicked on\r\n     */\r\n    public onPointerClickObservable = new Observable<Vector2WithInfo>();\r\n\r\n    /**\r\n     * An event triggered when a control receives an ENTER key down event\r\n     */\r\n    public onEnterPressedObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered when pointer enters the control\r\n     */\r\n    public onPointerEnterObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered when the control is marked as dirty\r\n     */\r\n    public onDirtyObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered before drawing the control\r\n     */\r\n    public onBeforeDrawObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered after the control was drawn\r\n     */\r\n    public onAfterDrawObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered when the control has been disposed\r\n     */\r\n    public onDisposeObservable = new Observable<Control>();\r\n\r\n    /**\r\n     * An event triggered when the control isVisible is changed\r\n     */\r\n    public onIsVisibleChangedObservable = new Observable<boolean>();\r\n\r\n    /**\r\n     * Get the hosting AdvancedDynamicTexture\r\n     */\r\n    public get host(): AdvancedDynamicTexture {\r\n        return this._host;\r\n    }\r\n\r\n    /** Gets or set information about font offsets (used to render and align text) */\r\n    @serialize()\r\n    public get fontOffset(): { ascent: number; height: number; descent: number } {\r\n        return this._fontOffset;\r\n    }\r\n\r\n    public set fontOffset(offset: { ascent: number; height: number; descent: number }) {\r\n        this._fontOffset = offset;\r\n    }\r\n\r\n    /** Gets or sets alpha value for the control (1 means opaque and 0 means entirely transparent) */\r\n    @serialize()\r\n    public get alpha(): number {\r\n        return this._alpha;\r\n    }\r\n\r\n    public set alpha(value: number) {\r\n        if (this._alpha === value) {\r\n            return;\r\n        }\r\n        this._alphaSet = true;\r\n        this._alpha = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a number indicating size of stroke we want to highlight the control with (mostly for debugging purpose)\r\n     */\r\n    public get highlightLineWidth(): number {\r\n        return this._highlightLineWidth;\r\n    }\r\n\r\n    public set highlightLineWidth(value: number) {\r\n        if (this._highlightLineWidth === value) {\r\n            return;\r\n        }\r\n\r\n        this._highlightLineWidth = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a boolean indicating that we want to highlight the control (mostly for debugging purpose)\r\n     */\r\n    public get isHighlighted(): boolean {\r\n        return this._isHighlighted;\r\n    }\r\n\r\n    public set isHighlighted(value: boolean) {\r\n        if (this._isHighlighted === value) {\r\n            return;\r\n        }\r\n\r\n        this._isHighlighted = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Indicates if the control should be serialized. Defaults to true.\r\n     */\r\n    @serialize()\r\n    public isSerializable: boolean = true;\r\n\r\n    /**\r\n     * Gets or sets a string defining the color to use for highlighting this control\r\n     */\r\n    public get highlightColor(): string {\r\n        return this._highlightColor;\r\n    }\r\n\r\n    public set highlightColor(value: string) {\r\n        if (this._highlightColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._highlightColor = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a value indicating the scale factor on X axis (1 by default)\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#rotation-and-scaling\r\n     */\r\n    @serialize()\r\n    public get scaleX(): number {\r\n        return this._scaleX;\r\n    }\r\n\r\n    public set scaleX(value: number) {\r\n        if (this._scaleX === value) {\r\n            return;\r\n        }\r\n\r\n        this._scaleX = value;\r\n        this._markAsDirty();\r\n        this._markMatrixAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a value indicating the scale factor on Y axis (1 by default)\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#rotation-and-scaling\r\n     */\r\n    @serialize()\r\n    public get scaleY(): number {\r\n        return this._scaleY;\r\n    }\r\n\r\n    public set scaleY(value: number) {\r\n        if (this._scaleY === value) {\r\n            return;\r\n        }\r\n\r\n        this._scaleY = value;\r\n        this._markAsDirty();\r\n        this._markMatrixAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the rotation angle (0 by default)\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#rotation-and-scaling\r\n     */\r\n    @serialize()\r\n    public get rotation(): number {\r\n        return this._rotation;\r\n    }\r\n\r\n    public set rotation(value: number) {\r\n        if (this._rotation === value) {\r\n            return;\r\n        }\r\n\r\n        this._rotation = value;\r\n        this._markAsDirty();\r\n        this._markMatrixAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the transformation center on Y axis (0 by default)\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#rotation-and-scaling\r\n     */\r\n    @serialize()\r\n    public get transformCenterY(): number {\r\n        return this._transformCenterY;\r\n    }\r\n\r\n    public set transformCenterY(value: number) {\r\n        if (this._transformCenterY === value) {\r\n            return;\r\n        }\r\n\r\n        this._transformCenterY = value;\r\n        this._markAsDirty();\r\n        this._markMatrixAsDirty();\r\n    }\r\n\r\n    /** Gets or sets the transformation center on X axis (0 by default)\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#rotation-and-scaling\r\n     */\r\n    @serialize()\r\n    public get transformCenterX(): number {\r\n        return this._transformCenterX;\r\n    }\r\n\r\n    public set transformCenterX(value: number) {\r\n        if (this._transformCenterX === value) {\r\n            return;\r\n        }\r\n\r\n        this._transformCenterX = value;\r\n        this._markAsDirty();\r\n        this._markMatrixAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the horizontal alignment\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#alignments\r\n     */\r\n    @serialize()\r\n    public get horizontalAlignment(): number {\r\n        return this._horizontalAlignment;\r\n    }\r\n\r\n    public set horizontalAlignment(value: number) {\r\n        if (this._horizontalAlignment === value) {\r\n            return;\r\n        }\r\n\r\n        this._horizontalAlignment = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the vertical alignment\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#alignments\r\n     */\r\n    @serialize()\r\n    public get verticalAlignment(): number {\r\n        return this._verticalAlignment;\r\n    }\r\n\r\n    public set verticalAlignment(value: number) {\r\n        if (this._verticalAlignment === value) {\r\n            return;\r\n        }\r\n\r\n        this._verticalAlignment = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    private _fixedRatio = 0;\r\n    public set fixedRatio(value: number) {\r\n        if (this._fixedRatio === value) {\r\n            return;\r\n        }\r\n\r\n        this._fixedRatio = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a fixed ratio for this control.\r\n     * When different from 0, the ratio is used to compute the \"second\" dimension.\r\n     * The first dimension used in the computation is the last one set (by setting width / widthInPixels or height / heightInPixels), and the\r\n     * second dimension is computed as first dimension * fixedRatio\r\n     */\r\n    @serialize()\r\n    public get fixedRatio(): number {\r\n        return this._fixedRatio;\r\n    }\r\n\r\n    private _fixedRatioMasterIsWidth = true;\r\n    set fixedRatioMasterIsWidth(value: boolean) {\r\n        if (this._fixedRatioMasterIsWidth === value) {\r\n            return;\r\n        }\r\n        this._fixedRatioMasterIsWidth = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a boolean indicating that the fixed ratio is set on the width instead of the height. True by default.\r\n     * When the height of a control is set, this property is changed to false.\r\n     */\r\n    @serialize()\r\n    get fixedRatioMasterIsWidth(): boolean {\r\n        return this._fixedRatioMasterIsWidth;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets control width\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get width(): string | number {\r\n        return this._width.toString(this._host);\r\n    }\r\n\r\n    public set width(value: string | number) {\r\n        this._fixedRatioMasterIsWidth = true;\r\n\r\n        if (this._width.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._width.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets the control width in pixel\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get widthInPixels(): number {\r\n        return this._width.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set widthInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this._fixedRatioMasterIsWidth = true;\r\n        this.width = value + \"px\";\r\n    }\r\n\r\n    /**\r\n     * Gets or sets control height\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get height(): string | number {\r\n        return this._height.toString(this._host);\r\n    }\r\n\r\n    public set height(value: string | number) {\r\n        this._fixedRatioMasterIsWidth = false;\r\n\r\n        if (this._height.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._height.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets control height in pixel\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get heightInPixels(): number {\r\n        return this._height.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set heightInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this._fixedRatioMasterIsWidth = false;\r\n        this.height = value + \"px\";\r\n    }\r\n\r\n    /** Gets or set font family */\r\n    public get fontFamily(): string {\r\n        return this._fontFamily;\r\n    }\r\n\r\n    public set fontFamily(value: string) {\r\n        if (this._fontFamily === value) {\r\n            return;\r\n        }\r\n\r\n        this._fontFamily = value;\r\n        this._resetFontCache();\r\n    }\r\n\r\n    /** Gets or sets font style */\r\n    public get fontStyle(): string {\r\n        return this._fontStyle;\r\n    }\r\n\r\n    public set fontStyle(value: string) {\r\n        if (this._fontStyle === value) {\r\n            return;\r\n        }\r\n\r\n        this._fontStyle = value;\r\n        this._resetFontCache();\r\n    }\r\n\r\n    /** Gets or sets font weight */\r\n    public get fontWeight(): string {\r\n        return this._fontWeight;\r\n    }\r\n\r\n    public set fontWeight(value: string) {\r\n        if (this._fontWeight === value) {\r\n            return;\r\n        }\r\n\r\n        this._fontWeight = value;\r\n        this._resetFontCache();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets style\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#styles\r\n     */\r\n    @serialize()\r\n    public get style(): Nullable<Style> {\r\n        return this._style;\r\n    }\r\n\r\n    public set style(value: Nullable<Style>) {\r\n        if (this._style) {\r\n            this._style.onChangedObservable.remove(this._styleObserver);\r\n            this._styleObserver = null;\r\n        }\r\n\r\n        this._style = value;\r\n\r\n        if (this._style) {\r\n            this._styleObserver = this._style.onChangedObservable.add(() => {\r\n                this._markAsDirty();\r\n                this._resetFontCache();\r\n            });\r\n        }\r\n\r\n        this._markAsDirty();\r\n        this._resetFontCache();\r\n    }\r\n\r\n    /** @internal */\r\n    public get _isFontSizeInPercentage(): boolean {\r\n        return this._fontSize.isPercentage;\r\n    }\r\n\r\n    /** Gets or sets font size in pixels */\r\n    public get fontSizeInPixels(): number {\r\n        const fontSizeToUse = this._style ? this._style._fontSize : this._fontSize;\r\n\r\n        if (fontSizeToUse.isPixel) {\r\n            return fontSizeToUse.getValue(this._host);\r\n        }\r\n\r\n        return fontSizeToUse.getValueInPixel(this._host, this._tempParentMeasure.height || this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set fontSizeInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.fontSize = value + \"px\";\r\n    }\r\n\r\n    /** Gets or sets font size */\r\n    public get fontSize(): string | number {\r\n        return this._fontSize.toString(this._host);\r\n    }\r\n\r\n    public set fontSize(value: string | number) {\r\n        if (this._fontSize.toString(this._host) === value) {\r\n            return;\r\n        }\r\n\r\n        if (this._fontSize.fromString(value)) {\r\n            this._markAsDirty();\r\n            this._resetFontCache();\r\n        }\r\n    }\r\n\r\n    /** Gets or sets foreground color */\r\n    @serialize()\r\n    public get color(): string {\r\n        return this._color;\r\n    }\r\n\r\n    public set color(value: string) {\r\n        if (this._color === value) {\r\n            return;\r\n        }\r\n\r\n        this._color = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets gradient. Setting a gradient will override the color */\r\n    @serialize()\r\n    public get gradient(): Nullable<BaseGradient> {\r\n        return this._gradient;\r\n    }\r\n\r\n    public set gradient(value: Nullable<BaseGradient>) {\r\n        if (this._gradient === value) {\r\n            return;\r\n        }\r\n\r\n        this._gradient = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets z index which is used to reorder controls on the z axis */\r\n    @serialize()\r\n    public get zIndex(): number {\r\n        return this._zIndex;\r\n    }\r\n\r\n    public set zIndex(value: number) {\r\n        if (this.zIndex === value) {\r\n            return;\r\n        }\r\n\r\n        this._zIndex = value;\r\n\r\n        if (this.parent) {\r\n            this.parent._reOrderControl(this);\r\n        }\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if the control can be rendered */\r\n    @serialize()\r\n    public get notRenderable(): boolean {\r\n        return this._doNotRender;\r\n    }\r\n\r\n    public set notRenderable(value: boolean) {\r\n        if (this._doNotRender === value) {\r\n            return;\r\n        }\r\n\r\n        this._doNotRender = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /** Gets or sets a boolean indicating if the control is visible */\r\n    @serialize()\r\n    public get isVisible(): boolean {\r\n        return this._isVisible;\r\n    }\r\n\r\n    public set isVisible(value: boolean) {\r\n        if (this._isVisible === value) {\r\n            return;\r\n        }\r\n\r\n        this._isVisible = value;\r\n        this._markAsDirty(true);\r\n\r\n        this.onIsVisibleChangedObservable.notifyObservers(value);\r\n    }\r\n\r\n    /** Gets a boolean indicating that the control needs to update its rendering */\r\n    public get isDirty(): boolean {\r\n        return this._isDirty;\r\n    }\r\n\r\n    /**\r\n     * Gets the current linked mesh (or null if none)\r\n     */\r\n    public get linkedMesh(): Nullable<TransformNode> {\r\n        return this._linkedMesh;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding should work like in CSS.\r\n     * Basically, it will add the padding amount on each side of the parent control for its children.\r\n     */\r\n    @serialize()\r\n    public get descendantsOnlyPadding(): boolean {\r\n        return this._descendantsOnlyPadding;\r\n    }\r\n\r\n    public set descendantsOnlyPadding(value: boolean) {\r\n        if (this._descendantsOnlyPadding === value) {\r\n            return;\r\n        }\r\n\r\n        this._descendantsOnlyPadding = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding to use on the left of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get paddingLeft(): string | number {\r\n        return this._paddingLeft.toString(this._host);\r\n    }\r\n\r\n    public set paddingLeft(value: string | number) {\r\n        if (this._paddingLeft.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding in pixels to use on the left of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get paddingLeftInPixels(): number {\r\n        return this._paddingLeft.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set paddingLeftInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.paddingLeft = value + \"px\";\r\n    }\r\n\r\n    /** @internal */\r\n    public get _paddingLeftInPixels(): number {\r\n        if (this._descendantsOnlyPadding) {\r\n            return 0;\r\n        }\r\n\r\n        return this.paddingLeftInPixels;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding to use on the right of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get paddingRight(): string | number {\r\n        return this._paddingRight.toString(this._host);\r\n    }\r\n\r\n    public set paddingRight(value: string | number) {\r\n        if (this._paddingRight.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding in pixels to use on the right of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get paddingRightInPixels(): number {\r\n        return this._paddingRight.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set paddingRightInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.paddingRight = value + \"px\";\r\n    }\r\n\r\n    /** @internal */\r\n    public get _paddingRightInPixels(): number {\r\n        if (this._descendantsOnlyPadding) {\r\n            return 0;\r\n        }\r\n\r\n        return this.paddingRightInPixels;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding to use on the top of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get paddingTop(): string | number {\r\n        return this._paddingTop.toString(this._host);\r\n    }\r\n\r\n    public set paddingTop(value: string | number) {\r\n        if (this._paddingTop.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding in pixels to use on the top of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get paddingTopInPixels(): number {\r\n        return this._paddingTop.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set paddingTopInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.paddingTop = value + \"px\";\r\n    }\r\n\r\n    /** @internal */\r\n    public get _paddingTopInPixels(): number {\r\n        if (this._descendantsOnlyPadding) {\r\n            return 0;\r\n        }\r\n\r\n        return this.paddingTopInPixels;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding to use on the bottom of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get paddingBottom(): string | number {\r\n        return this._paddingBottom.toString(this._host);\r\n    }\r\n\r\n    public set paddingBottom(value: string | number) {\r\n        if (this._paddingBottom.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the padding in pixels to use on the bottom of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get paddingBottomInPixels(): number {\r\n        return this._paddingBottom.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set paddingBottomInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.paddingBottom = value + \"px\";\r\n    }\r\n\r\n    /** @internal */\r\n    public get _paddingBottomInPixels(): number {\r\n        if (this._descendantsOnlyPadding) {\r\n            return 0;\r\n        }\r\n\r\n        return this.paddingBottomInPixels;\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the left coordinate of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get left(): string | number {\r\n        return this._left.toString(this._host);\r\n    }\r\n\r\n    public set left(value: string | number) {\r\n        if (this._left.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the left coordinate in pixels of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get leftInPixels(): number {\r\n        return this._left.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set leftInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.left = value + \"px\";\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the top coordinate of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    @serialize()\r\n    public get top(): string | number {\r\n        return this._top.toString(this._host);\r\n    }\r\n\r\n    public set top(value: string | number) {\r\n        if (this._top.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the top coordinate in pixels of the control\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public get topInPixels(): number {\r\n        return this._top.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set topInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.top = value + \"px\";\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the offset on X axis to the linked mesh\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#tracking-positions\r\n     */\r\n    @serialize()\r\n    public get linkOffsetX(): string | number {\r\n        return this._linkOffsetX.toString(this._host);\r\n    }\r\n\r\n    public set linkOffsetX(value: string | number) {\r\n        if (this._linkOffsetX.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the offset in pixels on X axis to the linked mesh\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#tracking-positions\r\n     */\r\n    public get linkOffsetXInPixels(): number {\r\n        return this._linkOffsetX.getValueInPixel(this._host, this._cachedParentMeasure.width);\r\n    }\r\n\r\n    public set linkOffsetXInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.linkOffsetX = value + \"px\";\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the offset on Y axis to the linked mesh\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#tracking-positions\r\n     */\r\n    @serialize()\r\n    public get linkOffsetY(): string | number {\r\n        return this._linkOffsetY.toString(this._host);\r\n    }\r\n\r\n    public set linkOffsetY(value: string | number) {\r\n        if (this._linkOffsetY.fromString(value)) {\r\n            this._markAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets or sets a value indicating the offset in pixels on Y axis to the linked mesh\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#tracking-positions\r\n     */\r\n    public get linkOffsetYInPixels(): number {\r\n        return this._linkOffsetY.getValueInPixel(this._host, this._cachedParentMeasure.height);\r\n    }\r\n\r\n    public set linkOffsetYInPixels(value: number) {\r\n        if (isNaN(value)) {\r\n            return;\r\n        }\r\n        this.linkOffsetY = value + \"px\";\r\n    }\r\n\r\n    /** Gets the center coordinate on X axis */\r\n    public get centerX(): number {\r\n        return this._currentMeasure.left + this._currentMeasure.width / 2;\r\n    }\r\n\r\n    /** Gets the center coordinate on Y axis */\r\n    public get centerY(): number {\r\n        return this._currentMeasure.top + this._currentMeasure.height / 2;\r\n    }\r\n\r\n    /** Gets or sets if control is Enabled */\r\n    @serialize()\r\n    public get isEnabled(): boolean {\r\n        return this._isEnabled;\r\n    }\r\n\r\n    public set isEnabled(value: boolean) {\r\n        if (this._isEnabled === value) {\r\n            return;\r\n        }\r\n\r\n        this._isEnabled = value;\r\n        this._markAsDirty();\r\n        // if this control or any of it's descendants are under a pointer, we need to fire a pointerOut event\r\n        const recursivelyFirePointerOut = (control: Control) => {\r\n            if (!control.host) {\r\n                return;\r\n            }\r\n            for (const pointer in control.host._lastControlOver) {\r\n                if (control === this.host._lastControlOver[pointer]) {\r\n                    control._onPointerOut(control, null, true);\r\n                    delete control.host._lastControlOver[pointer];\r\n                }\r\n            }\r\n            if ((control as Container).children !== undefined) {\r\n                for (const child of (control as Container).children) {\r\n                    recursivelyFirePointerOut(child);\r\n                }\r\n            }\r\n        };\r\n        recursivelyFirePointerOut(this);\r\n        this.onEnabledStateChangedObservable.notifyObservers(value);\r\n    }\r\n    /** Gets or sets background color of control if it's disabled. Only applies to Button class. */\r\n    @serialize()\r\n    public get disabledColor(): string {\r\n        return this._disabledColor;\r\n    }\r\n\r\n    public set disabledColor(value: string) {\r\n        if (this._disabledColor === value) {\r\n            return;\r\n        }\r\n\r\n        this._disabledColor = value;\r\n        this._markAsDirty();\r\n    }\r\n    /** Gets or sets front color of control if it's disabled. Only applies to Checkbox class. */\r\n    @serialize()\r\n    public get disabledColorItem(): string {\r\n        return this._disabledColorItem;\r\n    }\r\n\r\n    public set disabledColorItem(value: string) {\r\n        if (this._disabledColorItem === value) {\r\n            return;\r\n        }\r\n\r\n        this._disabledColorItem = value;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Gets/sets the overlap group of the control.\r\n     * Controls with overlapGroup set to a number can be deoverlapped.\r\n     * Controls with overlapGroup set to undefined are not deoverlapped.\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#deoverlapping\r\n     */\r\n    @serialize()\r\n    public overlapGroup?: number;\r\n    /**\r\n     * Gets/sets the deoverlap movement multiplier\r\n     */\r\n    @serialize()\r\n    public overlapDeltaMultiplier?: number;\r\n\r\n    /**\r\n     * Array of animations\r\n     */\r\n    animations: Nullable<Animation[]> = null;\r\n\r\n    // Focus functionality\r\n\r\n    protected _focusedColor: Nullable<string> = null;\r\n    /**\r\n     * Border color when control is focused\r\n     * When not defined the ADT color will be used. If no ADT color is defined, focused state won't have any border\r\n     */\r\n    public get focusedColor(): Nullable<string> {\r\n        return this._focusedColor;\r\n    }\r\n    public set focusedColor(value: Nullable<string>) {\r\n        this._focusedColor = value;\r\n    }\r\n    /**\r\n     * The tab index of this control. -1 indicates this control is not part of the tab navigation.\r\n     * A positive value indicates the order of the control in the tab navigation.\r\n     * A value of 0 indicated the control will be focused after all controls with a positive index.\r\n     * More than one control can have the same tab index and the navigation would then go through all controls with the same value in an order defined by the layout or the hierarchy.\r\n     * The value can be changed at any time.\r\n     * @see https://developer.mozilla.org/en-US/docs/Web/HTML/Global_attributes/tabindex\r\n     */\r\n    public tabIndex: number = -1;\r\n    protected _isFocused = false;\r\n    protected _unfocusedColor: Nullable<string> = null;\r\n\r\n    /** Observable raised when the control gets the focus */\r\n    public onFocusObservable = new Observable<Control>();\r\n    /** Observable raised when the control loses the focus */\r\n    public onBlurObservable = new Observable<Control>();\r\n    /** Observable raised when a key event was processed */\r\n    public onKeyboardEventProcessedObservable = new Observable<IKeyboardEvent>();\r\n\r\n    /** @internal */\r\n    public onBlur(): void {\r\n        if (this._isFocused) {\r\n            this._isFocused = false;\r\n            if (this.focusedColor && this._unfocusedColor != null) {\r\n                // Set color back to saved unfocused color\r\n                this.color = this._unfocusedColor;\r\n            }\r\n            this.onBlurObservable.notifyObservers(this);\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    public onFocus(): void {\r\n        this._isFocused = true;\r\n\r\n        if (this.focusedColor) {\r\n            // Save the unfocused color\r\n            this._unfocusedColor = this.color;\r\n            this.color = this.focusedColor;\r\n        }\r\n        this.onFocusObservable.notifyObservers(this);\r\n    }\r\n\r\n    /**\r\n     * Function called to get the list of controls that should not steal the focus from this control\r\n     * @returns an array of controls\r\n     */\r\n    public keepsFocusWith(): Nullable<Control[]> {\r\n        return null;\r\n    }\r\n\r\n    /**\r\n     * Function to focus a button programmatically\r\n     */\r\n    public focus() {\r\n        this._host.moveFocusToControl(this);\r\n    }\r\n\r\n    /**\r\n     * Function to unfocus a button programmatically\r\n     */\r\n    public blur() {\r\n        this._host.focusedControl = null;\r\n    }\r\n\r\n    /**\r\n     * Handles the keyboard event\r\n     * @param evt Defines the KeyboardEvent\r\n     */\r\n    public processKeyboard(evt: IKeyboardEvent): void {\r\n        // if enter, trigger the new observable\r\n        if (evt.key === \"Enter\") {\r\n            this.onEnterPressedObservable.notifyObservers(this);\r\n        }\r\n        this.onKeyboardEventProcessedObservable.notifyObservers(evt, -1, this);\r\n    }\r\n\r\n    // Functions\r\n\r\n    /**\r\n     * Creates a new control\r\n     * @param name defines the name of the control\r\n     */\r\n    constructor(\r\n        /** defines the name of the control */\r\n        public name?: string\r\n    ) {}\r\n\r\n    /** @internal */\r\n    protected _getTypeName(): string {\r\n        return \"Control\";\r\n    }\r\n\r\n    /**\r\n     * Gets the first ascendant in the hierarchy of the given type\r\n     * @param className defines the required type\r\n     * @returns the ascendant or null if not found\r\n     */\r\n    public getAscendantOfClass(className: string): Nullable<Control> {\r\n        if (!this.parent) {\r\n            return null;\r\n        }\r\n\r\n        if (this.parent.getClassName() === className) {\r\n            return this.parent;\r\n        }\r\n\r\n        return this.parent.getAscendantOfClass(className);\r\n    }\r\n\r\n    /**\r\n     * Mark control element as dirty\r\n     * @param force force non visible elements to be marked too\r\n     */\r\n    public markAsDirty(force = false): void {\r\n        this._markAsDirty(force);\r\n    }\r\n\r\n    /**\r\n     * Mark the element and its children as dirty\r\n     */\r\n    public markAllAsDirty(): void {\r\n        this._markAllAsDirty();\r\n    }\r\n\r\n    /** @internal */\r\n    public _resetFontCache(): void {\r\n        this._fontSet = true;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * Determines if a container is an ascendant of the current control\r\n     * @param container defines the container to look for\r\n     * @returns true if the container is one of the ascendant of the control\r\n     */\r\n    public isAscendant(container: Control): boolean {\r\n        if (!this.parent) {\r\n            return false;\r\n        }\r\n\r\n        if (this.parent === container) {\r\n            return true;\r\n        }\r\n\r\n        return this.parent.isAscendant(container);\r\n    }\r\n\r\n    /**\r\n     * Gets coordinates in local control space\r\n     * @param globalCoordinates defines the coordinates to transform\r\n     * @returns the new coordinates in local space\r\n     */\r\n    public getLocalCoordinates(globalCoordinates: Vector2): Vector2 {\r\n        const result = Vector2.Zero();\r\n\r\n        this.getLocalCoordinatesToRef(globalCoordinates, result);\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Gets coordinates in local control space\r\n     * @param globalCoordinates defines the coordinates to transform\r\n     * @param result defines the target vector2 where to store the result\r\n     * @returns the current control\r\n     */\r\n    public getLocalCoordinatesToRef(globalCoordinates: Vector2, result: Vector2): Control {\r\n        result.x = globalCoordinates.x - this._currentMeasure.left;\r\n        result.y = globalCoordinates.y - this._currentMeasure.top;\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Gets coordinates in parent local control space\r\n     * @param globalCoordinates defines the coordinates to transform\r\n     * @returns the new coordinates in parent local space\r\n     */\r\n    public getParentLocalCoordinates(globalCoordinates: Vector2): Vector2 {\r\n        const result = Vector2.Zero();\r\n\r\n        result.x = globalCoordinates.x - this._cachedParentMeasure.left;\r\n        result.y = globalCoordinates.y - this._cachedParentMeasure.top;\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Move the current control to a vector3 position projected onto the screen.\r\n     * @param position defines the target position\r\n     * @param scene defines the hosting scene\r\n     */\r\n    public moveToVector3(position: Vector3, scene: Scene): void {\r\n        if (!this._host || this.parent !== this._host._rootContainer) {\r\n            Tools.Error(\"Cannot move a control to a vector3 if the control is not at root level\");\r\n            return;\r\n        }\r\n\r\n        this.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n\r\n        const globalViewport = this._host._getGlobalViewport();\r\n        const projectedPosition = Vector3.Project(position, Matrix.IdentityReadOnly, scene.getTransformMatrix(), globalViewport);\r\n\r\n        this._moveToProjectedPosition(projectedPosition);\r\n\r\n        if (projectedPosition.z < 0 || projectedPosition.z > 1) {\r\n            this.notRenderable = true;\r\n            return;\r\n        }\r\n        this.notRenderable = false;\r\n    }\r\n\r\n    /**\r\n     * Will store all controls that have this control as ascendant in a given array\r\n     * @param results defines the array where to store the descendants\r\n     * @param directDescendantsOnly defines if true only direct descendants of 'this' will be considered, if false direct and also indirect (children of children, an so on in a recursive manner) descendants of 'this' will be considered\r\n     * @param predicate defines an optional predicate that will be called on every evaluated child, the predicate must return true for a given child to be part of the result, otherwise it will be ignored\r\n     */\r\n    public getDescendantsToRef(results: Control[], directDescendantsOnly: boolean = false, predicate?: (control: Control) => boolean): void {\r\n        // Do nothing by default\r\n    }\r\n\r\n    /**\r\n     * Will return all controls that have this control as ascendant\r\n     * @param directDescendantsOnly defines if true only direct descendants of 'this' will be considered, if false direct and also indirect (children of children, an so on in a recursive manner) descendants of 'this' will be considered\r\n     * @param predicate defines an optional predicate that will be called on every evaluated child, the predicate must return true for a given child to be part of the result, otherwise it will be ignored\r\n     * @returns all child controls\r\n     */\r\n    public getDescendants(directDescendantsOnly?: boolean, predicate?: (control: Control) => boolean): Control[] {\r\n        const results: Control[] = [];\r\n\r\n        this.getDescendantsToRef(results, directDescendantsOnly, predicate);\r\n\r\n        return results;\r\n    }\r\n\r\n    /**\r\n     * Link current control with a target mesh\r\n     * @param mesh defines the mesh to link with\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#tracking-positions\r\n     */\r\n    public linkWithMesh(mesh: Nullable<TransformNode>): void {\r\n        if (!this._host || (this.parent && this.parent !== this._host._rootContainer)) {\r\n            if (mesh) {\r\n                Tools.Error(\"Cannot link a control to a mesh if the control is not at root level\");\r\n            }\r\n            return;\r\n        }\r\n\r\n        const index = this._host._linkedControls.indexOf(this);\r\n        if (index !== -1) {\r\n            this._linkedMesh = mesh;\r\n            if (!mesh) {\r\n                this._host._linkedControls.splice(index, 1);\r\n            }\r\n            return;\r\n        } else if (!mesh) {\r\n            return;\r\n        }\r\n\r\n        this.horizontalAlignment = Control.HORIZONTAL_ALIGNMENT_LEFT;\r\n        this.verticalAlignment = Control.VERTICAL_ALIGNMENT_TOP;\r\n        this._linkedMesh = mesh;\r\n        this._host._linkedControls.push(this);\r\n    }\r\n\r\n    /**\r\n     * Shorthand function to set the top, right, bottom, and left padding values on the control.\r\n     * @param { string | number} paddingTop - The value of the top padding.\r\n     * @param { string | number} paddingRight - The value of the right padding. If omitted, top is used.\r\n     * @param { string | number} paddingBottom - The value of the bottom padding. If omitted, top is used.\r\n     * @param { string | number} paddingLeft - The value of the left padding. If omitted, right is used.\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public setPadding(paddingTop: string | number, paddingRight?: string | number, paddingBottom?: string | number, paddingLeft?: string | number) {\r\n        const top = paddingTop;\r\n        const right = paddingRight ?? top;\r\n        const bottom = paddingBottom ?? top;\r\n        const left = paddingLeft ?? right;\r\n\r\n        this.paddingTop = top;\r\n        this.paddingRight = right;\r\n        this.paddingBottom = bottom;\r\n        this.paddingLeft = left;\r\n    }\r\n\r\n    /**\r\n     * Shorthand funtion to set the top, right, bottom, and left padding values in pixels on the control.\r\n     * @param { number} paddingTop - The value in pixels of the top padding.\r\n     * @param { number} paddingRight - The value in pixels of the right padding. If omitted, top is used.\r\n     * @param { number} paddingBottom - The value in pixels of the bottom padding. If omitted, top is used.\r\n     * @param { number} paddingLeft - The value in pixels of the left padding. If omitted, right is used.\r\n     * @see https://doc.babylonjs.com/features/featuresDeepDive/gui/gui#position-and-size\r\n     */\r\n    public setPaddingInPixels(paddingTop: number, paddingRight?: number, paddingBottom?: number, paddingLeft?: number) {\r\n        const top = paddingTop;\r\n        const right = paddingRight ?? top;\r\n        const bottom = paddingBottom ?? top;\r\n        const left = paddingLeft ?? right;\r\n\r\n        this.paddingTopInPixels = top;\r\n        this.paddingRightInPixels = right;\r\n        this.paddingBottomInPixels = bottom;\r\n        this.paddingLeftInPixels = left;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _moveToProjectedPosition(projectedPosition: Vector3): void {\r\n        const oldLeft = this._left.getValue(this._host);\r\n        const oldTop = this._top.getValue(this._host);\r\n\r\n        const parentMeasure = this.parent?._currentMeasure;\r\n        if (parentMeasure) {\r\n            this._processMeasures(parentMeasure, this._host.getContext());\r\n        }\r\n\r\n        let newLeft = projectedPosition.x + this._linkOffsetX.getValue(this._host) - this._currentMeasure.width / 2;\r\n        let newTop = projectedPosition.y + this._linkOffsetY.getValue(this._host) - this._currentMeasure.height / 2;\r\n\r\n        if (this._left.ignoreAdaptiveScaling && this._top.ignoreAdaptiveScaling) {\r\n            if (Math.abs(newLeft - oldLeft) < 0.5) {\r\n                newLeft = oldLeft;\r\n            }\r\n\r\n            if (Math.abs(newTop - oldTop) < 0.5) {\r\n                newTop = oldTop;\r\n            }\r\n        }\r\n\r\n        if (oldLeft === newLeft && oldTop === newTop) {\r\n            return;\r\n        }\r\n\r\n        this.left = newLeft + \"px\";\r\n        this.top = newTop + \"px\";\r\n\r\n        this._left.ignoreAdaptiveScaling = true;\r\n        this._top.ignoreAdaptiveScaling = true;\r\n        this._markAsDirty();\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _offsetLeft(offset: number) {\r\n        this._isDirty = true;\r\n        this._currentMeasure.left += offset;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _offsetTop(offset: number) {\r\n        this._isDirty = true;\r\n        this._currentMeasure.top += offset;\r\n    }\r\n\r\n    /** @internal */\r\n    public _markMatrixAsDirty(): void {\r\n        this._isMatrixDirty = true;\r\n        this._flagDescendantsAsMatrixDirty();\r\n    }\r\n\r\n    /** @internal */\r\n    public _flagDescendantsAsMatrixDirty(): void {\r\n        // No child\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _intersectsRect(rect: Measure, context?: ICanvasRenderingContext) {\r\n        // make sure we are transformed correctly before checking intersections. no-op if nothing is dirty.\r\n        this._transform(context);\r\n        if (this._evaluatedMeasure.left >= rect.left + rect.width) {\r\n            return false;\r\n        }\r\n\r\n        if (this._evaluatedMeasure.top >= rect.top + rect.height) {\r\n            return false;\r\n        }\r\n\r\n        if (this._evaluatedMeasure.left + this._evaluatedMeasure.width <= rect.left) {\r\n            return false;\r\n        }\r\n\r\n        if (this._evaluatedMeasure.top + this._evaluatedMeasure.height <= rect.top) {\r\n            return false;\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /** @internal */\r\n    protected _computeAdditionalOffsetX() {\r\n        return 0;\r\n    }\r\n\r\n    /** @internal */\r\n    protected _computeAdditionalOffsetY() {\r\n        return 0;\r\n    }\r\n\r\n    /** @internal */\r\n    // eslint-disable-next-line @typescript-eslint/naming-convention\r\n    public invalidateRect() {\r\n        this._transform();\r\n        if (this.host && this.host.useInvalidateRectOptimization) {\r\n            // Rotate by transform to get the measure transformed to global space\r\n            this._currentMeasure.transformToRef(this._transformMatrix, this._tmpMeasureA);\r\n            // get the boudning box of the current measure and last frames measure in global space and invalidate it\r\n            // the previous measure is used to properly clear a control that is scaled down\r\n            Measure.CombineToRef(this._tmpMeasureA, this._prevCurrentMeasureTransformedIntoGlobalSpace, this._tmpMeasureA);\r\n\r\n            // Expand rect based on shadows\r\n            const shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            const shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n            const shadowBlur = Math.max(this._previousShadowBlur, this.shadowBlur);\r\n\r\n            const leftShadowOffset = Math.min(Math.min(shadowOffsetX, 0) - shadowBlur * 2, 0);\r\n            const rightShadowOffset = Math.max(Math.max(shadowOffsetX, 0) + shadowBlur * 2, 0);\r\n            const topShadowOffset = Math.min(Math.min(shadowOffsetY, 0) - shadowBlur * 2, 0);\r\n            const bottomShadowOffset = Math.max(Math.max(shadowOffsetY, 0) + shadowBlur * 2, 0);\r\n\r\n            const offsetX = this._computeAdditionalOffsetX();\r\n            const offsetY = this._computeAdditionalOffsetY();\r\n\r\n            this.host.invalidateRect(\r\n                Math.floor(this._tmpMeasureA.left + leftShadowOffset - offsetX),\r\n                Math.floor(this._tmpMeasureA.top + topShadowOffset - offsetY),\r\n                Math.ceil(this._tmpMeasureA.left + this._tmpMeasureA.width + rightShadowOffset + offsetX),\r\n                Math.ceil(this._tmpMeasureA.top + this._tmpMeasureA.height + bottomShadowOffset + offsetY)\r\n            );\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _markAsDirty(force = false): void {\r\n        if (!this._isVisible && !force) {\r\n            return;\r\n        }\r\n\r\n        this._isDirty = true;\r\n        this._markMatrixAsDirty();\r\n\r\n        // Redraw only this rectangle\r\n        if (this._host) {\r\n            this._host.markAsDirty();\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    public _markAllAsDirty(): void {\r\n        this._markAsDirty();\r\n\r\n        if (this._font) {\r\n            this._prepareFont();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _link(host: AdvancedDynamicTexture): void {\r\n        this._host = host;\r\n        if (this._host) {\r\n            this.uniqueId = this._host.getScene()!.getUniqueId();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _transform(context?: ICanvasRenderingContext): void {\r\n        if (!this._isMatrixDirty && this._scaleX === 1 && this._scaleY === 1 && this._rotation === 0) {\r\n            return;\r\n        }\r\n\r\n        // postTranslate\r\n        const offsetX = this._currentMeasure.width * this._transformCenterX + this._currentMeasure.left;\r\n        const offsetY = this._currentMeasure.height * this._transformCenterY + this._currentMeasure.top;\r\n        if (context) {\r\n            context.translate(offsetX, offsetY);\r\n\r\n            // rotate\r\n            context.rotate(this._rotation);\r\n\r\n            // scale\r\n            context.scale(this._scaleX, this._scaleY);\r\n\r\n            // preTranslate\r\n            context.translate(-offsetX, -offsetY);\r\n        }\r\n        // Need to update matrices?\r\n        if (this._isMatrixDirty || this._cachedOffsetX !== offsetX || this._cachedOffsetY !== offsetY) {\r\n            this._cachedOffsetX = offsetX;\r\n            this._cachedOffsetY = offsetY;\r\n            this._isMatrixDirty = false;\r\n            this._flagDescendantsAsMatrixDirty();\r\n\r\n            Matrix2D.ComposeToRef(-offsetX, -offsetY, this._rotation, this._scaleX, this._scaleY, this.parent ? this.parent._transformMatrix : null, this._transformMatrix);\r\n\r\n            this._transformMatrix.invertToRef(this._invertTransformMatrix);\r\n            this._currentMeasure.transformToRef(this._transformMatrix, this._evaluatedMeasure);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _renderHighlight(context: ICanvasRenderingContext): void {\r\n        if (!this.isHighlighted) {\r\n            return;\r\n        }\r\n\r\n        context.save();\r\n        context.strokeStyle = this._highlightColor;\r\n        context.lineWidth = this._highlightLineWidth;\r\n\r\n        this._renderHighlightSpecific(context);\r\n        context.restore();\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _renderHighlightSpecific(context: ICanvasRenderingContext): void {\r\n        context.strokeRect(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n    }\r\n\r\n    protected _getColor(context: ICanvasRenderingContext): string | ICanvasGradient {\r\n        return this.gradient ? this.gradient.getCanvasGradient(context) : this.color;\r\n    }\r\n\r\n    /**\r\n     * Applies the control's state to the provided context.  Important: unless this is a temporary context,\r\n     * be sure to call context.save() before calling _applyStates() and later call context.restore() when\r\n     * you are done using these state updates.\r\n     * @internal\r\n     */\r\n    protected _applyStates(context: ICanvasRenderingContext): void {\r\n        if (this._isFontSizeInPercentage) {\r\n            this._fontSet = true;\r\n        }\r\n\r\n        if (this._host && this._host.useSmallestIdeal && !this._font) {\r\n            this._fontSet = true;\r\n        }\r\n\r\n        if (this._fontSet) {\r\n            this._prepareFont();\r\n            this._fontSet = false;\r\n        }\r\n\r\n        if (this._font) {\r\n            context.font = this._font;\r\n        }\r\n\r\n        if (this._color || this.gradient) {\r\n            context.fillStyle = this._getColor(context);\r\n        }\r\n\r\n        if (Control.AllowAlphaInheritance) {\r\n            context.globalAlpha *= this._alpha;\r\n        } else if (this._alphaSet) {\r\n            context.globalAlpha = this.parent && !this.parent.renderToIntermediateTexture ? this.parent.alpha * this._alpha : this._alpha;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _layout(parentMeasure: Measure, context: ICanvasRenderingContext): boolean {\r\n        if (!this.isDirty && (!this.isVisible || this.notRenderable)) {\r\n            return false;\r\n        }\r\n\r\n        if (this._isDirty || !this._cachedParentMeasure.isEqualsTo(parentMeasure)) {\r\n            this.host._numLayoutCalls++;\r\n\r\n            this._currentMeasure.addAndTransformToRef(\r\n                this._transformMatrix,\r\n                -this._paddingLeftInPixels | 0,\r\n                -this._paddingTopInPixels | 0,\r\n                this._paddingRightInPixels | 0,\r\n                this._paddingBottomInPixels | 0,\r\n                this._prevCurrentMeasureTransformedIntoGlobalSpace\r\n            );\r\n\r\n            context.save();\r\n\r\n            let rebuildCount = 0;\r\n            do {\r\n                this._rebuildLayout = false;\r\n                this._processMeasures(parentMeasure, context);\r\n                rebuildCount++;\r\n            } while (this._rebuildLayout && rebuildCount < 4);\r\n\r\n            if (rebuildCount >= 4) {\r\n                Logger.Error(`Layout cycle detected in GUI (Control name=${this.name}, uniqueId=${this.uniqueId})`);\r\n            }\r\n\r\n            context.restore();\r\n            this.invalidateRect();\r\n            this._evaluateClippingState(parentMeasure);\r\n        }\r\n\r\n        this._wasDirty = this._isDirty;\r\n        this._isDirty = false;\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _processMeasures(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        context.save();\r\n\r\n        // Ensure we always apply states before measuring\r\n        this._applyStates(context);\r\n\r\n        this._tempPaddingMeasure.copyFrom(parentMeasure);\r\n\r\n        // Apply padding if in correct mode\r\n        if (this.parent && this.parent.descendantsOnlyPadding) {\r\n            this._tempPaddingMeasure.left += this.parent.paddingLeftInPixels;\r\n            this._tempPaddingMeasure.top += this.parent.paddingTopInPixels;\r\n            this._tempPaddingMeasure.width -= this.parent.paddingLeftInPixels + this.parent.paddingRightInPixels;\r\n            this._tempPaddingMeasure.height -= this.parent.paddingTopInPixels + this.parent.paddingBottomInPixels;\r\n        }\r\n\r\n        this._currentMeasure.copyFrom(this._tempPaddingMeasure);\r\n\r\n        // Let children take some pre-measurement actions\r\n        this._preMeasure(this._tempPaddingMeasure, context);\r\n\r\n        this._measure();\r\n\r\n        // Let children take some post-measurement actions\r\n        this._postMeasure(this._tempPaddingMeasure, context);\r\n\r\n        this._computeAlignment(this._tempPaddingMeasure, context);\r\n\r\n        // Let children add more features\r\n        this._additionalProcessing(this._tempPaddingMeasure, context);\r\n\r\n        this._cachedParentMeasure.copyFrom(this._tempPaddingMeasure);\r\n\r\n        this._currentMeasure.transformToRef(this._transformMatrix, this._evaluatedMeasure);\r\n        if (this.onDirtyObservable.hasObservers()) {\r\n            this.onDirtyObservable.notifyObservers(this);\r\n        }\r\n\r\n        context.restore();\r\n    }\r\n\r\n    protected _evaluateClippingState(parentMeasure: Measure) {\r\n        // Since transformMatrix is used here, we need to have it freshly computed\r\n        this._transform();\r\n        this._currentMeasure.transformToRef(this._transformMatrix, this._evaluatedMeasure);\r\n        if (this.parent && this.parent.clipChildren) {\r\n            parentMeasure.transformToRef(this.parent._transformMatrix, this._evaluatedParentMeasure);\r\n            // Early clip\r\n            if (this._evaluatedMeasure.left > this._evaluatedParentMeasure.left + this._evaluatedParentMeasure.width) {\r\n                this._isClipped = true;\r\n                return;\r\n            }\r\n\r\n            if (this._evaluatedMeasure.left + this._evaluatedMeasure.width < this._evaluatedParentMeasure.left) {\r\n                this._isClipped = true;\r\n                return;\r\n            }\r\n\r\n            if (this._evaluatedMeasure.top > this._evaluatedParentMeasure.top + this._evaluatedParentMeasure.height) {\r\n                this._isClipped = true;\r\n                return;\r\n            }\r\n\r\n            if (this._evaluatedMeasure.top + this._evaluatedMeasure.height < this._evaluatedParentMeasure.top) {\r\n                this._isClipped = true;\r\n                return;\r\n            }\r\n        }\r\n\r\n        this._isClipped = false;\r\n    }\r\n\r\n    /** @internal */\r\n    public _measure(): void {\r\n        // Width / Height\r\n        if (this._width.isPixel) {\r\n            this._currentMeasure.width = this._width.getValue(this._host);\r\n        } else {\r\n            this._currentMeasure.width *= this._width.getValue(this._host);\r\n        }\r\n\r\n        if (this._height.isPixel) {\r\n            this._currentMeasure.height = this._height.getValue(this._host);\r\n        } else {\r\n            this._currentMeasure.height *= this._height.getValue(this._host);\r\n        }\r\n\r\n        if (this._fixedRatio !== 0) {\r\n            if (this._fixedRatioMasterIsWidth) {\r\n                this._currentMeasure.height = this._currentMeasure.width * this._fixedRatio;\r\n            } else {\r\n                this._currentMeasure.width = this._currentMeasure.height * this._fixedRatio;\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _computeAlignment(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        const width = this._currentMeasure.width;\r\n        const height = this._currentMeasure.height;\r\n\r\n        const parentWidth = parentMeasure.width;\r\n        const parentHeight = parentMeasure.height;\r\n\r\n        // Left / top\r\n        let x = 0;\r\n        let y = 0;\r\n\r\n        switch (this.horizontalAlignment) {\r\n            case Control.HORIZONTAL_ALIGNMENT_LEFT:\r\n                x = 0;\r\n                break;\r\n            case Control.HORIZONTAL_ALIGNMENT_RIGHT:\r\n                x = parentWidth - width;\r\n                break;\r\n            case Control.HORIZONTAL_ALIGNMENT_CENTER:\r\n                x = (parentWidth - width) / 2;\r\n                break;\r\n        }\r\n\r\n        switch (this.verticalAlignment) {\r\n            case Control.VERTICAL_ALIGNMENT_TOP:\r\n                y = 0;\r\n                break;\r\n            case Control.VERTICAL_ALIGNMENT_BOTTOM:\r\n                y = parentHeight - height;\r\n                break;\r\n            case Control.VERTICAL_ALIGNMENT_CENTER:\r\n                y = (parentHeight - height) / 2;\r\n                break;\r\n        }\r\n\r\n        if (!this.descendantsOnlyPadding) {\r\n            if (this._paddingLeft.isPixel) {\r\n                this._currentMeasure.left += this._paddingLeft.getValue(this._host);\r\n                this._currentMeasure.width -= this._paddingLeft.getValue(this._host);\r\n            } else {\r\n                this._currentMeasure.left += parentWidth * this._paddingLeft.getValue(this._host);\r\n                this._currentMeasure.width -= parentWidth * this._paddingLeft.getValue(this._host);\r\n            }\r\n\r\n            if (this._paddingRight.isPixel) {\r\n                this._currentMeasure.width -= this._paddingRight.getValue(this._host);\r\n            } else {\r\n                this._currentMeasure.width -= parentWidth * this._paddingRight.getValue(this._host);\r\n            }\r\n\r\n            if (this._paddingTop.isPixel) {\r\n                this._currentMeasure.top += this._paddingTop.getValue(this._host);\r\n                this._currentMeasure.height -= this._paddingTop.getValue(this._host);\r\n            } else {\r\n                this._currentMeasure.top += parentHeight * this._paddingTop.getValue(this._host);\r\n                this._currentMeasure.height -= parentHeight * this._paddingTop.getValue(this._host);\r\n            }\r\n\r\n            if (this._paddingBottom.isPixel) {\r\n                this._currentMeasure.height -= this._paddingBottom.getValue(this._host);\r\n            } else {\r\n                this._currentMeasure.height -= parentHeight * this._paddingBottom.getValue(this._host);\r\n            }\r\n        }\r\n\r\n        if (this._left.isPixel) {\r\n            this._currentMeasure.left += this._left.getValue(this._host);\r\n        } else {\r\n            this._currentMeasure.left += parentWidth * this._left.getValue(this._host);\r\n        }\r\n\r\n        if (this._top.isPixel) {\r\n            this._currentMeasure.top += this._top.getValue(this._host);\r\n        } else {\r\n            this._currentMeasure.top += parentHeight * this._top.getValue(this._host);\r\n        }\r\n\r\n        this._currentMeasure.left += x;\r\n        this._currentMeasure.top += y;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _preMeasure(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        // Do nothing\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _postMeasure(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        // Do nothing\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _additionalProcessing(parentMeasure: Measure, context: ICanvasRenderingContext): void {\r\n        // Do nothing\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected _clipForChildren(context: ICanvasRenderingContext): void {\r\n        // DO nothing\r\n    }\r\n\r\n    private static _ClipMeasure = new Measure(0, 0, 0, 0);\r\n    private _tmpMeasureA = new Measure(0, 0, 0, 0);\r\n    private _clip(context: ICanvasRenderingContext, invalidatedRectangle?: Nullable<Measure>) {\r\n        context.beginPath();\r\n        Control._ClipMeasure.copyFrom(this._currentMeasure);\r\n        if (invalidatedRectangle) {\r\n            // Rotate the invalidated rect into the control's space\r\n            invalidatedRectangle.transformToRef(this._invertTransformMatrix, this._tmpMeasureA);\r\n\r\n            // Get the intersection of the rect in context space and the current context\r\n            const intersection = new Measure(0, 0, 0, 0);\r\n            intersection.left = Math.max(this._tmpMeasureA.left, this._currentMeasure.left);\r\n            intersection.top = Math.max(this._tmpMeasureA.top, this._currentMeasure.top);\r\n            intersection.width = Math.min(this._tmpMeasureA.left + this._tmpMeasureA.width, this._currentMeasure.left + this._currentMeasure.width) - intersection.left;\r\n            intersection.height = Math.min(this._tmpMeasureA.top + this._tmpMeasureA.height, this._currentMeasure.top + this._currentMeasure.height) - intersection.top;\r\n            Control._ClipMeasure.copyFrom(intersection);\r\n        }\r\n\r\n        if (this.shadowBlur || this.shadowOffsetX || this.shadowOffsetY) {\r\n            const shadowOffsetX = this.shadowOffsetX * this._host.idealRatio;\r\n            const shadowOffsetY = this.shadowOffsetY * this._host.idealRatio;\r\n            const shadowBlur = this.shadowBlur;\r\n\r\n            const leftShadowOffset = Math.min(Math.min(shadowOffsetX, 0) - shadowBlur * 2, 0);\r\n            const rightShadowOffset = Math.max(Math.max(shadowOffsetX, 0) + shadowBlur * 2, 0);\r\n            const topShadowOffset = Math.min(Math.min(shadowOffsetY, 0) - shadowBlur * 2, 0);\r\n            const bottomShadowOffset = Math.max(Math.max(shadowOffsetY, 0) + shadowBlur * 2, 0);\r\n\r\n            context.rect(\r\n                Control._ClipMeasure.left + leftShadowOffset,\r\n                Control._ClipMeasure.top + topShadowOffset,\r\n                Control._ClipMeasure.width + rightShadowOffset - leftShadowOffset,\r\n                Control._ClipMeasure.height + bottomShadowOffset - topShadowOffset\r\n            );\r\n        } else {\r\n            context.rect(Control._ClipMeasure.left, Control._ClipMeasure.top, Control._ClipMeasure.width, Control._ClipMeasure.height);\r\n        }\r\n\r\n        context.clip();\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _render(context: ICanvasRenderingContext, invalidatedRectangle?: Nullable<Measure>): boolean {\r\n        if (!this.isVisible || this.notRenderable || this._isClipped) {\r\n            this._isDirty = false;\r\n            return false;\r\n        }\r\n\r\n        this.host._numRenderCalls++;\r\n\r\n        context.save();\r\n\r\n        this._applyStates(context);\r\n\r\n        // Transform\r\n        this._transform(context);\r\n\r\n        // Clip\r\n        if (this.clipContent) {\r\n            this._clip(context, invalidatedRectangle);\r\n        }\r\n\r\n        if (this.onBeforeDrawObservable.hasObservers()) {\r\n            this.onBeforeDrawObservable.notifyObservers(this);\r\n        }\r\n\r\n        if (this.useBitmapCache && !this._wasDirty && this._cacheData) {\r\n            context.putImageData(this._cacheData, this._currentMeasure.left, this._currentMeasure.top);\r\n        } else {\r\n            this._draw(context, invalidatedRectangle);\r\n        }\r\n\r\n        if (this.useBitmapCache && this._wasDirty) {\r\n            this._cacheData = context.getImageData(this._currentMeasure.left, this._currentMeasure.top, this._currentMeasure.width, this._currentMeasure.height);\r\n        }\r\n\r\n        this._renderHighlight(context);\r\n\r\n        if (this.onAfterDrawObservable.hasObservers()) {\r\n            this.onAfterDrawObservable.notifyObservers(this);\r\n        }\r\n\r\n        context.restore();\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _draw(context: ICanvasRenderingContext, invalidatedRectangle?: Nullable<Measure>): void {\r\n        // Do nothing\r\n    }\r\n\r\n    /**\r\n     * Tests if a given coordinates belong to the current control\r\n     * @param x defines x coordinate to test\r\n     * @param y defines y coordinate to test\r\n     * @returns true if the coordinates are inside the control\r\n     */\r\n    public contains(x: number, y: number): boolean {\r\n        // Invert transform\r\n        this._invertTransformMatrix.transformCoordinates(x, y, this._transformedPosition);\r\n\r\n        x = this._transformedPosition.x;\r\n        y = this._transformedPosition.y;\r\n\r\n        // Check\r\n        if (x < this._currentMeasure.left) {\r\n            return false;\r\n        }\r\n\r\n        if (x > this._currentMeasure.left + this._currentMeasure.width) {\r\n            return false;\r\n        }\r\n\r\n        if (y < this._currentMeasure.top) {\r\n            return false;\r\n        }\r\n\r\n        if (y > this._currentMeasure.top + this._currentMeasure.height) {\r\n            return false;\r\n        }\r\n\r\n        if (this.isPointerBlocker) {\r\n            this._host._shouldBlockPointer = true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _processPicking(x: number, y: number, pi: Nullable<PointerInfoBase>, type: number, pointerId: number, buttonIndex: number, deltaX?: number, deltaY?: number): boolean {\r\n        if (!this._isEnabled) {\r\n            return false;\r\n        }\r\n        if (!this.isHitTestVisible || !this.isVisible || this._doNotRender) {\r\n            return false;\r\n        }\r\n\r\n        if (!this.contains(x, y)) {\r\n            return false;\r\n        }\r\n\r\n        this._processObservables(type, x, y, pi, pointerId, buttonIndex, deltaX, deltaY);\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _onPointerMove(target: Control, coordinates: Vector2, pointerId: number, pi: Nullable<PointerInfoBase>): void {\r\n        const canNotify: boolean = this.onPointerMoveObservable.notifyObservers(coordinates, -1, target, this, pi);\r\n\r\n        if (canNotify && this.parent != null && !this.isPointerBlocker) {\r\n            this.parent._onPointerMove(target, coordinates, pointerId, pi);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _onPointerEnter(target: Control, pi: Nullable<PointerInfoBase>): boolean {\r\n        if (!this._isEnabled) {\r\n            return false;\r\n        }\r\n        if (this._enterCount > 0) {\r\n            return false;\r\n        }\r\n\r\n        if (this._enterCount === -1) {\r\n            // -1 is for touch input, we are now sure we are with a mouse or pencil\r\n            this._enterCount = 0;\r\n        }\r\n        this._enterCount++;\r\n\r\n        const canNotify: boolean = this.onPointerEnterObservable.notifyObservers(this, -1, target, this, pi);\r\n\r\n        if (canNotify && this.parent != null && !this.isPointerBlocker) {\r\n            this.parent._onPointerEnter(target, pi);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _onPointerOut(target: Control, pi: Nullable<PointerInfoBase>, force = false): void {\r\n        if (!force && !this._isEnabled) {\r\n            return;\r\n        }\r\n        this._enterCount = 0;\r\n\r\n        let canNotify: boolean = true;\r\n\r\n        if (!target.isAscendant(this)) {\r\n            canNotify = this.onPointerOutObservable.notifyObservers(this, -1, target, this, pi);\r\n        }\r\n\r\n        if (canNotify && this.parent != null && !this.isPointerBlocker) {\r\n            this.parent._onPointerOut(target, pi, force);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _onPointerDown(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, pi: Nullable<PointerInfoBase>): boolean {\r\n        // Prevent pointerout to lose control context.\r\n        // Event redundancy is checked inside the function.\r\n        this._onPointerEnter(this, pi);\r\n\r\n        if (this.tabIndex !== -1) {\r\n            this.host.focusedControl = this;\r\n        }\r\n\r\n        if (this._downCount !== 0) {\r\n            return false;\r\n        }\r\n\r\n        this._downCount++;\r\n\r\n        this._downPointerIds[pointerId] = true;\r\n\r\n        const canNotify: boolean = this.onPointerDownObservable.notifyObservers(new Vector2WithInfo(coordinates, buttonIndex), -1, target, this, pi);\r\n\r\n        if (canNotify && this.parent != null && !this.isPointerBlocker) {\r\n            this.parent._onPointerDown(target, coordinates, pointerId, buttonIndex, pi);\r\n        }\r\n\r\n        if (pi && this.uniqueId !== this._host.rootContainer.uniqueId) {\r\n            this._host._capturedPointerIds.add((pi.event as IPointerEvent).pointerId);\r\n        }\r\n\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _onPointerUp(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, notifyClick: boolean, pi?: Nullable<PointerInfoBase>): void {\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        this._downCount = 0;\r\n\r\n        delete this._downPointerIds[pointerId];\r\n\r\n        let canNotifyClick: boolean = notifyClick;\r\n        if (notifyClick && (this._enterCount > 0 || this._enterCount === -1)) {\r\n            if (!this._host.usePointerTapForClickEvent) {\r\n                canNotifyClick = this.onPointerClickObservable.notifyObservers(new Vector2WithInfo(coordinates, buttonIndex), -1, target, this, pi);\r\n            }\r\n        }\r\n        const canNotify: boolean = this.onPointerUpObservable.notifyObservers(new Vector2WithInfo(coordinates, buttonIndex), -1, target, this, pi);\r\n\r\n        if (canNotify && this.parent != null && !this.isPointerBlocker) {\r\n            this.parent._onPointerUp(target, coordinates, pointerId, buttonIndex, canNotifyClick, pi);\r\n        }\r\n\r\n        if (pi && this.uniqueId !== this._host.rootContainer.uniqueId) {\r\n            this._host._capturedPointerIds.delete((pi.event as IPointerEvent).pointerId);\r\n        }\r\n\r\n        if (this._host.usePointerTapForClickEvent && this.isPointerBlocker) {\r\n            this._host._shouldBlockPointer = false;\r\n        }\r\n    }\r\n\r\n    public _onPointerPick(target: Control, coordinates: Vector2, pointerId: number, buttonIndex: number, notifyClick: boolean, pi: Nullable<PointerInfoBase>): boolean {\r\n        if (!this._host.usePointerTapForClickEvent) {\r\n            return false;\r\n        }\r\n\r\n        let canNotifyClick: boolean = notifyClick;\r\n        if (notifyClick && (this._enterCount > 0 || this._enterCount === -1)) {\r\n            canNotifyClick = this.onPointerClickObservable.notifyObservers(new Vector2WithInfo(coordinates, buttonIndex), -1, target, this, pi);\r\n        }\r\n        const canNotify: boolean = this.onPointerUpObservable.notifyObservers(new Vector2WithInfo(coordinates, buttonIndex), -1, target, this, pi);\r\n\r\n        if (canNotify && this.parent != null && !this.isPointerBlocker) {\r\n            this.parent._onPointerPick(target, coordinates, pointerId, buttonIndex, canNotifyClick, pi);\r\n        }\r\n\r\n        if (this._host.usePointerTapForClickEvent && this.isPointerBlocker) {\r\n            this._host._shouldBlockPointer = true;\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _forcePointerUp(pointerId: Nullable<number> = null) {\r\n        if (pointerId !== null) {\r\n            this._onPointerUp(this, Vector2.Zero(), pointerId, 0, true);\r\n        } else {\r\n            for (const key in this._downPointerIds) {\r\n                this._onPointerUp(this, Vector2.Zero(), +key, 0, true);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _onWheelScroll(deltaX?: number, deltaY?: number): void {\r\n        if (!this._isEnabled) {\r\n            return;\r\n        }\r\n        const canNotify: boolean = this.onWheelObservable.notifyObservers(new Vector2(deltaX, deltaY));\r\n\r\n        if (canNotify && this.parent != null) {\r\n            this.parent._onWheelScroll(deltaX, deltaY);\r\n        }\r\n    }\r\n\r\n    /** @internal */\r\n    public _onCanvasBlur(): void {}\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _processObservables(\r\n        type: number,\r\n        x: number,\r\n        y: number,\r\n        pi: Nullable<PointerInfoBase>,\r\n        pointerId: number,\r\n        buttonIndex: number,\r\n        deltaX?: number,\r\n        deltaY?: number\r\n    ): boolean {\r\n        if (!this._isEnabled) {\r\n            return false;\r\n        }\r\n        this._dummyVector2.copyFromFloats(x, y);\r\n        if (type === PointerEventTypes.POINTERMOVE) {\r\n            this._onPointerMove(this, this._dummyVector2, pointerId, pi);\r\n\r\n            const previousControlOver = this._host._lastControlOver[pointerId];\r\n            if (previousControlOver && previousControlOver !== this) {\r\n                previousControlOver._onPointerOut(this, pi);\r\n            }\r\n\r\n            if (previousControlOver !== this) {\r\n                this._onPointerEnter(this, pi);\r\n            }\r\n\r\n            this._host._lastControlOver[pointerId] = this;\r\n            return true;\r\n        } else if (type === PointerEventTypes.POINTERDOWN) {\r\n            this._onPointerDown(this, this._dummyVector2, pointerId, buttonIndex, pi);\r\n            this._host._registerLastControlDown(this, pointerId);\r\n            this._host._lastPickedControl = this;\r\n            return true;\r\n        } else if (type === PointerEventTypes.POINTERUP) {\r\n            if (this._host._lastControlDown[pointerId]) {\r\n                this._host._lastControlDown[pointerId]._onPointerUp(this, this._dummyVector2, pointerId, buttonIndex, true, pi);\r\n            }\r\n            if (!this._host.usePointerTapForClickEvent) {\r\n                delete this._host._lastControlDown[pointerId];\r\n            }\r\n            return true;\r\n        } else if (type === PointerEventTypes.POINTERWHEEL) {\r\n            if (this._host._lastControlOver[pointerId]) {\r\n                this._host._lastControlOver[pointerId]._onWheelScroll(deltaX, deltaY);\r\n                return true;\r\n            }\r\n        } else if (type === PointerEventTypes.POINTERTAP) {\r\n            if (this._host._lastControlDown[pointerId]) {\r\n                this._host._lastControlDown[pointerId]._onPointerPick(this, this._dummyVector2, pointerId, buttonIndex, true, pi);\r\n            }\r\n            delete this._host._lastControlDown[pointerId];\r\n            return true;\r\n        }\r\n\r\n        return false;\r\n    }\r\n\r\n    private _getStyleProperty(propName: \"fontStyle\" | \"fontWeight\" | \"fontFamily\", defaultValue: string): string {\r\n        const prop = (this._style && this._style[propName]) ?? this[propName];\r\n        if (!prop && this.parent) {\r\n            return this.parent._getStyleProperty(propName, defaultValue);\r\n        } else if (!this.parent) {\r\n            return defaultValue;\r\n        } else {\r\n            return prop;\r\n        }\r\n    }\r\n\r\n    private _prepareFont() {\r\n        if (!this._font && !this._fontSet) {\r\n            return;\r\n        }\r\n\r\n        this._font =\r\n            this._getStyleProperty(\"fontStyle\", \"\") +\r\n            \" \" +\r\n            this._getStyleProperty(\"fontWeight\", \"\") +\r\n            \" \" +\r\n            this.fontSizeInPixels +\r\n            \"px \" +\r\n            this._getStyleProperty(\"fontFamily\", \"Arial\");\r\n\r\n        this._fontOffset = Control._GetFontOffset(this._font, this._host?.getScene()?.getEngine());\r\n\r\n        //children need to be refreshed\r\n        const descendants = this.getDescendants();\r\n        for (const child of descendants) {\r\n            child._markAllAsDirty();\r\n        }\r\n    }\r\n\r\n    /**\r\n     * A control has a dimension fully defined if that dimension doesn't depend on the parent's dimension.\r\n     * As an example, a control that has dimensions in pixels is fully defined, while in percentage is not fully defined.\r\n     * @param dim the dimension to check (width or height)\r\n     * @returns if the dimension is fully defined\r\n     */\r\n    public isDimensionFullyDefined(dim: \"width\" | \"height\"): boolean {\r\n        return this.getDimension(dim).isPixel;\r\n    }\r\n\r\n    /**\r\n     * Gets the dimension of the control along a specified axis\r\n     * @param dim the dimension to retrieve (width or height)\r\n     * @returns the dimension value along the specified axis\r\n     */\r\n    public getDimension(dim: \"width\" | \"height\"): ValueAndUnit {\r\n        if (dim === \"width\") {\r\n            return this._width;\r\n        } else {\r\n            return this._height;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Clones a control and its descendants\r\n     * @param host the texture where the control will be instantiated. Can be empty, in which case the control will be created on the same texture\r\n     * @returns the cloned control\r\n     */\r\n    public clone(host?: AdvancedDynamicTexture): Control {\r\n        const serialization: any = {};\r\n        this.serialize(serialization, true);\r\n        const controlType = Tools.Instantiate(\"BABYLON.GUI.\" + serialization.className);\r\n        const cloned = new controlType();\r\n        cloned.parse(serialization, host);\r\n\r\n        return cloned;\r\n    }\r\n\r\n    /**\r\n     * Parses a serialized object into this control\r\n     * @param serializedObject the object with the serialized properties\r\n     * @param host the texture where the control will be instantiated. Can be empty, in which case the control will be created on the same texture\r\n     * @param urlRewriter defines an url rewriter to update urls before sending them to the controls\r\n     * @returns this control\r\n     */\r\n    public parse(serializedObject: any, host?: AdvancedDynamicTexture, urlRewriter?: (url: string) => string): Control {\r\n        this._urlRewriter = urlRewriter;\r\n        SerializationHelper.Parse(() => this, serializedObject, null);\r\n\r\n        this.name = serializedObject.name;\r\n\r\n        this._parseFromContent(serializedObject, host ?? this._host);\r\n\r\n        return this;\r\n    }\r\n\r\n    /**\r\n     * Serializes the current control\r\n     * @param serializationObject defined the JSON serialized object\r\n     * @param force if the control should be serialized even if the isSerializable flag is set to false (default false)\r\n     * @param allowCanvas defines if the control is allowed to use a Canvas2D object to serialize (true by default)\r\n     */\r\n    public serialize(serializationObject: any, force: boolean = false, allowCanvas: boolean = true) {\r\n        if (!this.isSerializable && !force) {\r\n            return;\r\n        }\r\n        let idealWidth = 0;\r\n        let idealHeight = 0;\r\n        // the host's ideal width and height are influencing the serialization, as they are used in getValue() of ValueAndUnit.\r\n        // for a proper serialization, we need to temporarily set them to 0 and re-set them back afterwards.\r\n        if (this.host) {\r\n            idealHeight = this.host.idealHeight;\r\n            idealWidth = this.host.idealWidth;\r\n            this.host.idealWidth = 0;\r\n            this.host.idealHeight = 0;\r\n        }\r\n        SerializationHelper.Serialize(this, serializationObject);\r\n        serializationObject.name = this.name;\r\n        serializationObject.className = this.getClassName();\r\n\r\n        // Call prepareFont to guarantee the font is properly set before serializing\r\n        if (allowCanvas) {\r\n            this._prepareFont();\r\n        }\r\n        if (this._fontFamily) {\r\n            serializationObject.fontFamily = this._fontFamily;\r\n        }\r\n        if (this.fontSize) {\r\n            serializationObject.fontSize = this.fontSize;\r\n        }\r\n        if (this.fontWeight) {\r\n            serializationObject.fontWeight = this.fontWeight;\r\n        }\r\n        if (this.fontStyle) {\r\n            serializationObject.fontStyle = this.fontStyle;\r\n        }\r\n\r\n        if (this._gradient) {\r\n            serializationObject.gradient = {};\r\n            this._gradient.serialize(serializationObject.gradient);\r\n        }\r\n\r\n        // Animations\r\n        SerializationHelper.AppendSerializedAnimations(this, serializationObject);\r\n        // re-set the ideal width and height\r\n        if (this.host) {\r\n            this.host.idealWidth = idealWidth;\r\n            this.host.idealHeight = idealHeight;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public _parseFromContent(serializedObject: any, host: AdvancedDynamicTexture, urlRewriter?: (url: string) => string) {\r\n        if (serializedObject.fontFamily) {\r\n            this.fontFamily = serializedObject.fontFamily;\r\n        }\r\n\r\n        if (serializedObject.fontSize) {\r\n            this.fontSize = serializedObject.fontSize;\r\n        }\r\n\r\n        if (serializedObject.fontWeight) {\r\n            this.fontWeight = serializedObject.fontWeight;\r\n        }\r\n\r\n        if (serializedObject.fontStyle) {\r\n            this.fontStyle = serializedObject.fontStyle;\r\n        }\r\n\r\n        // Gradient\r\n        if (serializedObject.gradient) {\r\n            const className = Tools.Instantiate(\"BABYLON.GUI.\" + serializedObject.gradient.className);\r\n            this._gradient = new className();\r\n            this._gradient?.parse(serializedObject.gradient);\r\n        }\r\n\r\n        // Animations\r\n        if (serializedObject.animations) {\r\n            this.animations = [];\r\n            for (let animationIndex = 0; animationIndex < serializedObject.animations.length; animationIndex++) {\r\n                const parsedAnimation = serializedObject.animations[animationIndex];\r\n                const internalClass = GetClass(\"BABYLON.Animation\");\r\n                if (internalClass) {\r\n                    this.animations.push(internalClass.Parse(parsedAnimation));\r\n                }\r\n            }\r\n\r\n            if (serializedObject.autoAnimate && this._host && this._host.getScene()) {\r\n                this._host\r\n                    .getScene()!\r\n                    .beginAnimation(\r\n                        this,\r\n                        serializedObject.autoAnimateFrom,\r\n                        serializedObject.autoAnimateTo,\r\n                        serializedObject.autoAnimateLoop,\r\n                        serializedObject.autoAnimateSpeed || 1.0\r\n                    );\r\n            }\r\n        }\r\n\r\n        this.fixedRatioMasterIsWidth = serializedObject.fixedRatioMasterIsWidth ?? this.fixedRatioMasterIsWidth;\r\n    }\r\n\r\n    /** Releases associated resources */\r\n    public dispose() {\r\n        this.onDirtyObservable.clear();\r\n        this.onBeforeDrawObservable.clear();\r\n        this.onAfterDrawObservable.clear();\r\n        this.onPointerDownObservable.clear();\r\n        this.onPointerEnterObservable.clear();\r\n        this.onPointerMoveObservable.clear();\r\n        this.onPointerOutObservable.clear();\r\n        this.onPointerUpObservable.clear();\r\n        this.onPointerClickObservable.clear();\r\n        this.onWheelObservable.clear();\r\n\r\n        // focus\r\n        this.onBlurObservable.clear();\r\n        this.onFocusObservable.clear();\r\n        this.onKeyboardEventProcessedObservable.clear();\r\n\r\n        if (this._styleObserver && this._style) {\r\n            this._style.onChangedObservable.remove(this._styleObserver);\r\n            this._styleObserver = null;\r\n        }\r\n\r\n        if (this.parent) {\r\n            this.parent.removeControl(this);\r\n            this.parent = null;\r\n        }\r\n\r\n        if (this._host) {\r\n            const index = this._host._linkedControls.indexOf(this);\r\n            if (index > -1) {\r\n                this.linkWithMesh(null);\r\n            }\r\n        }\r\n\r\n        // Callback\r\n        this.onDisposeObservable.notifyObservers(this);\r\n        this.onDisposeObservable.clear();\r\n    }\r\n\r\n    // Statics\r\n    private static _HORIZONTAL_ALIGNMENT_LEFT = 0;\r\n    private static _HORIZONTAL_ALIGNMENT_RIGHT = 1;\r\n    private static _HORIZONTAL_ALIGNMENT_CENTER = 2;\r\n\r\n    private static _VERTICAL_ALIGNMENT_TOP = 0;\r\n    private static _VERTICAL_ALIGNMENT_BOTTOM = 1;\r\n    private static _VERTICAL_ALIGNMENT_CENTER = 2;\r\n\r\n    /** HORIZONTAL_ALIGNMENT_LEFT */\r\n    public static get HORIZONTAL_ALIGNMENT_LEFT(): number {\r\n        return Control._HORIZONTAL_ALIGNMENT_LEFT;\r\n    }\r\n\r\n    /** HORIZONTAL_ALIGNMENT_RIGHT */\r\n    public static get HORIZONTAL_ALIGNMENT_RIGHT(): number {\r\n        return Control._HORIZONTAL_ALIGNMENT_RIGHT;\r\n    }\r\n\r\n    /** HORIZONTAL_ALIGNMENT_CENTER */\r\n    public static get HORIZONTAL_ALIGNMENT_CENTER(): number {\r\n        return Control._HORIZONTAL_ALIGNMENT_CENTER;\r\n    }\r\n\r\n    /** VERTICAL_ALIGNMENT_TOP */\r\n    public static get VERTICAL_ALIGNMENT_TOP(): number {\r\n        return Control._VERTICAL_ALIGNMENT_TOP;\r\n    }\r\n\r\n    /** VERTICAL_ALIGNMENT_BOTTOM */\r\n    public static get VERTICAL_ALIGNMENT_BOTTOM(): number {\r\n        return Control._VERTICAL_ALIGNMENT_BOTTOM;\r\n    }\r\n\r\n    /** VERTICAL_ALIGNMENT_CENTER */\r\n    public static get VERTICAL_ALIGNMENT_CENTER(): number {\r\n        return Control._VERTICAL_ALIGNMENT_CENTER;\r\n    }\r\n\r\n    private static _FontHeightSizes: { [key: string]: { ascent: number; height: number; descent: number } } = {};\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    public static _GetFontOffset(font: string, engineToUse?: AbstractEngine): { ascent: number; height: number; descent: number } {\r\n        if (Control._FontHeightSizes[font]) {\r\n            return Control._FontHeightSizes[font];\r\n        }\r\n\r\n        const engine = engineToUse || EngineStore.LastCreatedEngine;\r\n        if (!engine) {\r\n            throw new Error(\"Invalid engine. Unable to create a canvas.\");\r\n        }\r\n\r\n        const result = engine.getFontOffset(font);\r\n        Control._FontHeightSizes[font] = result;\r\n\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Creates a Control from parsed data\r\n     * @param serializedObject defines parsed data\r\n     * @param host defines the hosting AdvancedDynamicTexture\r\n     * @param urlRewriter defines an url rewriter to update urls before sending them to the controls\r\n     * @returns a new Control\r\n     */\r\n    public static Parse(serializedObject: any, host: AdvancedDynamicTexture, urlRewriter?: (url: string) => string): Control {\r\n        const controlType = Tools.Instantiate(\"BABYLON.GUI.\" + serializedObject.className);\r\n        const control = SerializationHelper.Parse(\r\n            () => {\r\n                const newControl = new controlType() as Control;\r\n                newControl._urlRewriter = urlRewriter;\r\n                return newControl;\r\n            },\r\n            serializedObject,\r\n            null\r\n        );\r\n\r\n        control.name = serializedObject.name;\r\n\r\n        control._parseFromContent(serializedObject, host, urlRewriter);\r\n\r\n        return control;\r\n    }\r\n\r\n    public static AddHeader: (control: Control, text: string, size: string | number, options: { isHorizontal: boolean; controlFirst: boolean }) => any = () => {};\r\n\r\n    /**\r\n     * @internal\r\n     */\r\n    protected static drawEllipse(x: number, y: number, width: number, height: number, arc: number, context: ICanvasRenderingContext): void {\r\n        context.translate(x, y);\r\n        context.scale(width, height);\r\n\r\n        context.beginPath();\r\n        context.arc(0, 0, 1, 0, 2 * Math.PI * arc, arc < 0);\r\n\r\n        if (arc >= 1) {\r\n            context.closePath();\r\n        }\r\n\r\n        context.scale(1 / width, 1 / height);\r\n        context.translate(-x, -y);\r\n    }\r\n\r\n    /**\r\n     * Returns true if the control is ready to be used\r\n     * @returns\r\n     */\r\n    public isReady(): boolean {\r\n        // Most controls are ready by default, so the default implementation is to return true\r\n        return true;\r\n    }\r\n}\r\nRegisterClass(\"BABYLON.GUI.Control\", Control);\r\n"],
  "mappings": "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",
  "names": []
}
